import{$ as l,Bc as M,Cc as V,D as h,Dc as F,E as g,J as A,Ja as y,K as E,Ka as Y,P as Z,Q as s,R as m,U as N,Ua as C,Wa as G,Xa as J,Ya as X,Yb as P,_ as Q,_b as at,aa as w,ab as tt,ba as r,bb as et,db as nt,dc as ct,eb as it,ec as st,fa as u,fb as ot,ha as f,hc as lt,ia as d,ib as rt,ic as O,ja as v,jc as D,ka as L,la as S,lc as p,ma as j,mc as pt,na as x,oa as b,pa as a,s as H,ta as K,tc as mt,va as $,vc as ut,w as I,wa as q,x as z,xa as k,y as B,ya as U,yc as ft,za as W,zc as R}from"./chunk-AWEHUNTX.js";var gt=(e,o)=>({showTransitionParams:e,hideTransitionParams:o}),bt=e=>({value:"open",params:e}),dt=e=>({$implicit:e});function Ct(e,o){e&1&&j(0)}function vt(e,o){if(e&1&&(L(0),l(1,Ct,1,0,"ng-container",8),S()),e&2){let t=a(2);s(),r("ngTemplateOutlet",t.headlessTemplate)("ngTemplateOutletContext",y(2,dt,t.confirmation))}}function xt(e,o){e&1&&j(0)}function yt(e,o){if(e&1&&(L(0),l(1,xt,1,0,"ng-container",8),S()),e&2){let t=a(3);s(),r("ngTemplateOutlet",t.contentTemplate)("ngTemplateOutletContext",y(2,dt,t.confirmation))}}function Tt(e,o){if(e&1&&v(0,"i",14),e&2){let t=a(4);u(t.confirmation==null?null:t.confirmation.icon),r("ngClass","p-confirm-popup-icon")}}function It(e,o){if(e&1&&(l(0,Tt,1,3,"i",12),f(1,"span",13),U(2),d()),e&2){let t=a(3);r("ngIf",t.confirmation==null?null:t.confirmation.icon),s(2),W(t.confirmation==null?null:t.confirmation.message)}}function Et(e,o){if(e&1&&v(0,"i"),e&2){let t=a(4);u(t.confirmation==null?null:t.confirmation.rejectIcon)}}function wt(e,o){}function Lt(e,o){e&1&&l(0,wt,0,0,"ng-template",null,3,C)}function St(e,o){if(e&1){let t=x();f(0,"button",15),b("click",function(){h(t);let i=a(3);return g(i.reject())}),l(1,Et,1,2,"i",16)(2,Lt,2,0,null,17),d()}if(e&2){let t=a(3);u((t.confirmation==null?null:t.confirmation.rejectButtonStyleClass)||"p-button-text"),r("label",t.rejectButtonLabel)("ngClass","p-confirm-popup-reject p-button-sm"),w("aria-label",t.rejectButtonLabel),s(),r("ngIf",t.confirmation==null?null:t.confirmation.rejectIcon)("ngIfElse",t.rejecticon),s(),r("ngTemplateOutlet",t.rejectIconTemplate)}}function jt(e,o){if(e&1&&v(0,"i"),e&2){let t=a(4);u(t.confirmation==null?null:t.confirmation.acceptIcon)}}function kt(e,o){}function Pt(e,o){e&1&&l(0,kt,0,0,"ng-template",null,4,C)}function Ot(e,o){if(e&1){let t=x();f(0,"button",15),b("click",function(){h(t);let i=a(3);return g(i.accept())}),l(1,jt,1,2,"i",16)(2,Pt,2,0,null,17),d()}if(e&2){let t=a(3);u(t.confirmation==null?null:t.confirmation.acceptButtonStyleClass),r("label",t.acceptButtonLabel)("ngClass","p-confirm-popup-accept p-button-sm"),w("aria-label",t.acceptButtonLabel),s(),r("ngIf",t.confirmation==null?null:t.confirmation.acceptIcon)("ngIfElse",t.accepticon),s(),r("ngTemplateOutlet",t.acceptIconTemplate)}}function Dt(e,o){if(e&1&&(f(0,"div",9,1),l(2,yt,2,4,"ng-container",7)(3,It,3,2,"ng-template",null,2,C),d(),f(5,"div",10),l(6,St,3,8,"button",11)(7,Ot,3,8,"button",11),d()),e&2){let t=k(4),n=a(2);s(2),r("ngIf",n.contentTemplate)("ngIfElse",t),s(4),r("ngIf",(n.confirmation==null?null:n.confirmation.rejectVisible)!==!1),s(),r("ngIf",(n.confirmation==null?null:n.confirmation.acceptVisible)!==!1)}}function Rt(e,o){if(e&1){let t=x();f(0,"div",6),b("click",function(i){h(t);let c=a();return g(c.onOverlayClick(i))})("@animation.start",function(i){h(t);let c=a();return g(c.onAnimationStart(i))})("@animation.done",function(i){h(t);let c=a();return g(c.onAnimationEnd(i))}),l(1,vt,2,4,"ng-container",7)(2,Dt,8,4,"ng-template",null,0,C),d()}if(e&2){let t=k(3),n=a();u(n.styleClass),r("ngClass","p-confirm-popup p-component")("ngStyle",n.style)("@animation",y(10,bt,Y(7,gt,n.showTransitionOptions,n.hideTransitionOptions))),s(),r("ngIf",n.headlessTemplate)("ngIfElse",t)}}var te=(()=>{class e{el;confirmationService;renderer;cd;config;overlayService;document;key;defaultFocus="accept";showTransitionOptions=".12s cubic-bezier(0, 0, 0.2, 1)";hideTransitionOptions=".1s linear";autoZIndex=!0;baseZIndex=0;style;styleClass;get visible(){return this._visible}set visible(t){this._visible=t,this.cd.markForCheck()}templates;container;subscription;confirmation;contentTemplate;acceptIconTemplate;rejectIconTemplate;headlessTemplate;_visible;documentClickListener;documentResizeListener;scrollHandler;window;constructor(t,n,i,c,_,_t,ht){this.el=t,this.confirmationService=n,this.renderer=i,this.cd=c,this.config=_,this.overlayService=_t,this.document=ht,this.window=this.document.defaultView,this.subscription=this.confirmationService.requireConfirmation$.subscribe(T=>{if(!T){this.hide();return}T.key===this.key&&(this.confirmation=T,this.confirmation.accept&&(this.confirmation.acceptEvent=new E,this.confirmation.acceptEvent.subscribe(this.confirmation.accept)),this.confirmation.reject&&(this.confirmation.rejectEvent=new E,this.confirmation.rejectEvent.subscribe(this.confirmation.reject)),this.visible=!0)})}ngAfterContentInit(){this.templates?.forEach(t=>{switch(t.getType()){case"content":this.contentTemplate=t.template;break;case"rejecticon":this.rejectIconTemplate=t.template;break;case"accepticon":this.acceptIconTemplate=t.template;break;case"headless":this.headlessTemplate=t.template;break}})}onEscapeKeydown(t){this.confirmation&&this.confirmation.closeOnEscape&&this.reject()}onAnimationStart(t){if(t.toState==="open"){this.container=t.element,this.renderer.appendChild(this.document.body,this.container),this.align(),this.bindListeners();let n=this.getElementToFocus();n&&n.focus()}}onAnimationEnd(t){switch(t.toState){case"void":this.onContainerDestroy();break}}getElementToFocus(){switch(this.defaultFocus){case"accept":return p.findSingle(this.container,".p-confirm-popup-accept");case"reject":return p.findSingle(this.container,".p-confirm-popup-reject");case"none":return null}}align(){if(this.autoZIndex&&P.set("overlay",this.container,this.config.zIndex.overlay),!this.confirmation)return;p.absolutePosition(this.container,this.confirmation?.target,!1);let t=p.getOffset(this.container),n=p.getOffset(this.confirmation?.target),i=0;t.left<n.left&&(i=n.left-t.left),this.container.style.setProperty("--overlayArrowLeft",`${i}px`),t.top<n.top&&p.addClass(this.container,"p-confirm-popup-flipped")}hide(){this.visible=!1}accept(){this.confirmation?.acceptEvent&&this.confirmation.acceptEvent.emit(),this.hide()}reject(){this.confirmation?.rejectEvent&&this.confirmation.rejectEvent.emit(),this.hide()}onOverlayClick(t){this.overlayService.add({originalEvent:t,target:this.el.nativeElement})}bindListeners(){setTimeout(()=>{this.bindDocumentClickListener(),this.bindDocumentResizeListener(),this.bindScrollListener()})}unbindListeners(){this.unbindDocumentClickListener(),this.unbindDocumentResizeListener(),this.unbindScrollListener()}bindDocumentClickListener(){if(!this.documentClickListener){let t=p.isIOS()?"touchstart":"click",n=this.el?this.el.nativeElement.ownerDocument:this.document;this.documentClickListener=this.renderer.listen(n,t,i=>{if(this.confirmation&&this.confirmation.dismissableMask!==!1){let c=this.confirmation.target;this.container!==i.target&&!this.container?.contains(i.target)&&c!==i.target&&!c.contains(i.target)&&this.hide()}})}}unbindDocumentClickListener(){this.documentClickListener&&(this.documentClickListener(),this.documentClickListener=null)}onWindowResize(){this.visible&&!p.isTouchDevice()&&this.hide()}bindDocumentResizeListener(){this.documentResizeListener||(this.documentResizeListener=this.renderer.listen(this.window,"resize",this.onWindowResize.bind(this)))}unbindDocumentResizeListener(){this.documentResizeListener&&(this.documentResizeListener(),this.documentResizeListener=null)}bindScrollListener(){this.scrollHandler||(this.scrollHandler=new pt(this.confirmation?.target,()=>{this.visible&&this.hide()})),this.scrollHandler.bindScrollListener()}unbindScrollListener(){this.scrollHandler&&this.scrollHandler.unbindScrollListener()}unsubscribeConfirmationSubscriptions(){this.confirmation&&(this.confirmation.acceptEvent&&this.confirmation.acceptEvent.unsubscribe(),this.confirmation.rejectEvent&&this.confirmation.rejectEvent.unsubscribe())}onContainerDestroy(){this.unbindListeners(),this.unsubscribeConfirmationSubscriptions(),this.autoZIndex&&P.clear(this.container),this.confirmation=null,this.container=null}restoreAppend(){this.container&&this.renderer.removeChild(this.document.body,this.container),this.onContainerDestroy()}get acceptButtonLabel(){return this.confirmation?.acceptLabel||this.config.getTranslation(D.ACCEPT)}get rejectButtonLabel(){return this.confirmation?.rejectLabel||this.config.getTranslation(D.REJECT)}ngOnDestroy(){this.restoreAppend(),this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(n){return new(n||e)(m(A),m(at),m(N),m(G),m(st),m(ct),m(tt))};static \u0275cmp=z({type:e,selectors:[["p-confirmPopup"]],contentQueries:function(n,i,c){if(n&1&&K(c,lt,4),n&2){let _;$(_=q())&&(i.templates=_)}},hostAttrs:[1,"p-element"],hostBindings:function(n,i){n&1&&b("keydown.escape",function(_){return i.onEscapeKeydown(_)},!1,Z)},inputs:{key:"key",defaultFocus:"defaultFocus",showTransitionOptions:"showTransitionOptions",hideTransitionOptions:"hideTransitionOptions",autoZIndex:[I.HasDecoratorInputTransform,"autoZIndex","autoZIndex",J],baseZIndex:[I.HasDecoratorInputTransform,"baseZIndex","baseZIndex",X],style:"style",styleClass:"styleClass",visible:"visible"},features:[Q],decls:1,vars:1,consts:[["notHeadless",""],["content",""],["withoutContentTemplate",""],["rejecticon",""],["accepticon",""],["role","alertdialog",3,"ngClass","ngStyle","class","click",4,"ngIf"],["role","alertdialog",3,"click","ngClass","ngStyle"],[4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-confirm-popup-content"],[1,"p-confirm-popup-footer"],["type","button","pButton","",3,"label","ngClass","class","click",4,"ngIf"],[3,"ngClass","class",4,"ngIf"],[1,"p-confirm-popup-message"],[3,"ngClass"],["type","button","pButton","",3,"click","label","ngClass"],[3,"class",4,"ngIf","ngIfElse"],[4,"ngTemplateOutlet"]],template:function(n,i){n&1&&l(0,Rt,4,12,"div",5),n&2&&r("ngIf",i.visible)},dependencies:[et,nt,ot,it,mt],styles:[`@layer primeng{.p-confirm-popup{position:absolute;margin-top:10px;top:0;left:0}.p-confirm-popup-flipped{margin-top:0;margin-bottom:10px}.p-confirm-popup:after,.p-confirm-popup:before{bottom:100%;left:calc(var(--overlayArrowLeft, 0) + 1.25rem);content:" ";height:0;width:0;position:absolute;pointer-events:none}.p-confirm-popup:after{border-width:8px;margin-left:-8px}.p-confirm-popup:before{border-width:10px;margin-left:-10px}.p-confirm-popup-flipped:after,.p-confirm-popup-flipped:before{bottom:auto;top:100%}.p-confirm-popup.p-confirm-popup-flipped:after{border-bottom-color:transparent}.p-confirm-popup.p-confirm-popup-flipped:before{border-bottom-color:transparent}.p-confirm-popup .p-confirm-popup-content{display:flex;align-items:center}}
`],encapsulation:2,data:{animation:[ft("animation",[V("void",M({transform:"scaleY(0.8)",opacity:0})),V("open",M({transform:"translateY(0)",opacity:1})),F("void => open",R("{{showTransitionParams}}")),F("open => void",R("{{hideTransitionParams}}"))])]},changeDetection:0})}return e})(),ee=(()=>{class e{static \u0275fac=function(n){return new(n||e)};static \u0275mod=B({type:e});static \u0275inj=H({imports:[rt,ut,O,O]})}return e})();export{te as a,ee as b};
