import{a as Ge}from"./chunk-UNZMK42Y.js";import{h as qe,i as $e,j as _e,k as ye,l as Je,m as Xe,n as Ze}from"./chunk-5TMXRYYI.js";import{a as me,d as Qe,e as Te}from"./chunk-JSMWOMP6.js";import{a as be}from"./chunk-5Q75OANQ.js";import{$ as p,C as De,D as Y,E as ee,Fa as Ne,Ia as U,J as te,Ja as z,K as w,Ka as K,L as ze,Ma as Ve,Na as Re,Oc as We,Q as c,R as m,U as de,Ua as Oe,V as ie,Wa as he,Wb as C,Xa as _,Ya as R,_ as Q,aa as A,ab as Pe,ba as a,bb as ue,bc as Be,c as B,cb as He,da as Fe,db as G,ea as Le,eb as ne,ec as fe,fa as W,fb as q,ha as y,hc as $,ia as v,ib as Ke,ic as Ae,ja as D,jb as oe,ka as O,la as P,lc as h,ma as b,na as le,oa as H,pa as f,qc as ge,r as xe,rc as Ue,s as Ee,sc as je,ta as Me,ua as E,va as I,w as u,wa as x,x as j,xa as pe,y as ke,z as ce}from"./chunk-AWEHUNTX.js";import{a as V,b as Ie}from"./chunk-DM275RSA.js";var it=["container"],lt=["resizeHelper"],nt=["reorderIndicatorUp"],ot=["reorderIndicatorDown"],rt=["table"],at=["scrollableView"],st=["scrollableFrozenView"],ct=(l,o,e,t,i)=>({"p-treetable p-component":!0,"p-treetable-hoverable-rows":l,"p-treetable-auto-layout":o,"p-treetable-resizable":e,"p-treetable-resizable-fit":t,"p-treetable-flex-scrollable":i}),M=l=>({$implicit:l}),dt=(l,o)=>({left:l,width:o}),pt=l=>({width:l}),Ce=()=>({display:"none"});function ht(l,o){if(l&1&&D(0,"i"),l&2){let e=f(2);W("p-treetable-loading-icon pi-spin "+e.loadingIcon)}}function ut(l,o){l&1&&D(0,"SpinnerIcon",24),l&2&&a("spin",!0)("styleClass","p-treetable-loading-icon")}function ft(l,o){}function gt(l,o){l&1&&p(0,ft,0,0,"ng-template")}function mt(l,o){if(l&1&&(y(0,"span",25),p(1,gt,1,0,null,26),v()),l&2){let e=f(3);c(),a("ngTemplateOutlet",e.loadingIconTemplate)}}function bt(l,o){if(l&1&&(O(0),p(1,ut,1,2,"SpinnerIcon",22)(2,mt,2,1,"span",23),P()),l&2){let e=f(2);c(),a("ngIf",!e.loadingIconTemplate),c(),a("ngIf",e.loadingIconTemplate)}}function Tt(l,o){if(l&1&&(y(0,"div",18)(1,"div",19),p(2,ht,1,2,"i",20)(3,bt,3,2,"ng-container",21),v()()),l&2){let e=f();c(2),a("ngIf",e.loadingIcon),c(),a("ngIf",!e.loadingIcon)}}function _t(l,o){l&1&&b(0)}function yt(l,o){if(l&1&&(y(0,"div",27),p(1,_t,1,0,"ng-container",26),v()),l&2){let e=f();c(),a("ngTemplateOutlet",e.captionTemplate)}}function Ct(l,o){l&1&&b(0)}function wt(l,o){if(l&1&&p(0,Ct,1,0,"ng-container",26),l&2){let e=f(3);a("ngTemplateOutlet",e.paginatorFirstPageLinkIconTemplate)}}function vt(l,o){l&1&&p(0,wt,1,1,"ng-template",29)}function St(l,o){l&1&&b(0)}function It(l,o){if(l&1&&p(0,St,1,0,"ng-container",26),l&2){let e=f(3);a("ngTemplateOutlet",e.paginatorPreviousPageLinkIconTemplate)}}function xt(l,o){l&1&&p(0,It,1,1,"ng-template",30)}function Et(l,o){l&1&&b(0)}function kt(l,o){if(l&1&&p(0,Et,1,0,"ng-container",26),l&2){let e=f(3);a("ngTemplateOutlet",e.paginatorLastPageLinkIconTemplate)}}function Dt(l,o){l&1&&p(0,kt,1,1,"ng-template",31)}function zt(l,o){l&1&&b(0)}function Ft(l,o){if(l&1&&p(0,zt,1,0,"ng-container",26),l&2){let e=f(3);a("ngTemplateOutlet",e.paginatorNextPageLinkIconTemplate)}}function Lt(l,o){l&1&&p(0,Ft,1,1,"ng-template",32)}function Mt(l,o){if(l&1){let e=le();y(0,"p-paginator",28),H("onPageChange",function(i){Y(e);let n=f();return ee(n.onPageChange(i))}),p(1,vt,1,0,null,21)(2,xt,1,0,null,21)(3,Dt,1,0,null,21)(4,Lt,1,0,null,21),v()}if(l&2){let e=f();a("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)("styleClass",e.paginatorStyleClass)("locale",e.paginatorLocale),c(),a("ngIf",e.paginatorFirstPageLinkIconTemplate),c(),a("ngIf",e.paginatorPreviousPageLinkIconTemplate),c(),a("ngIf",e.paginatorLastPageLinkIconTemplate),c(),a("ngIf",e.paginatorNextPageLinkIconTemplate)}}function Nt(l,o){l&1&&b(0)}function Vt(l,o){l&1&&b(0)}function Rt(l,o){l&1&&b(0)}function Ot(l,o){if(l&1&&(y(0,"div",33)(1,"table",34,1),p(3,Nt,1,0,"ng-container",35),y(4,"thead",36),p(5,Vt,1,0,"ng-container",35),v(),D(6,"tbody",37),y(7,"tfoot",38),p(8,Rt,1,0,"ng-container",35),v()()()),l&2){let e=f();c(),a("ngClass",e.tableStyleClass)("ngStyle",e.tableStyle),c(2),a("ngTemplateOutlet",e.colGroupTemplate)("ngTemplateOutletContext",z(10,M,e.columns)),c(2),a("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",z(12,M,e.columns)),c(),a("pTreeTableBody",e.columns)("pTreeTableBodyTemplate",e.bodyTemplate),c(2),a("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",z(14,M,e.columns))}}function Pt(l,o){if(l&1&&D(0,"div",42,3),l&2){let e=f(2);a("ttScrollableView",e.frozenColumns)("frozen",!0)("ngStyle",z(4,pt,e.frozenWidth))("scrollHeight",e.scrollHeight)}}function Ht(l,o){if(l&1&&(y(0,"div",39),p(1,Pt,2,6,"div",40),D(2,"div",41,2),v()),l&2){let e=f();c(),a("ngIf",e.frozenColumns||e.frozenBodyTemplate),c(),a("ttScrollableView",e.columns)("frozen",!1)("scrollHeight",e.scrollHeight)("ngStyle",K(5,dt,e.frozenWidth,"calc(100% - "+e.frozenWidth+")"))}}function Kt(l,o){l&1&&b(0)}function Bt(l,o){if(l&1&&p(0,Kt,1,0,"ng-container",26),l&2){let e=f(3);a("ngTemplateOutlet",e.paginatorFirstPageLinkIconTemplate)}}function At(l,o){l&1&&p(0,Bt,1,1,"ng-template",29)}function Ut(l,o){l&1&&b(0)}function jt(l,o){if(l&1&&p(0,Ut,1,0,"ng-container",26),l&2){let e=f(3);a("ngTemplateOutlet",e.paginatorPreviousPageLinkIconTemplate)}}function Qt(l,o){l&1&&p(0,jt,1,1,"ng-template",30)}function Wt(l,o){l&1&&b(0)}function Gt(l,o){if(l&1&&p(0,Wt,1,0,"ng-container",26),l&2){let e=f(3);a("ngTemplateOutlet",e.paginatorLastPageLinkIconTemplate)}}function qt(l,o){l&1&&p(0,Gt,1,1,"ng-template",31)}function $t(l,o){l&1&&b(0)}function Jt(l,o){if(l&1&&p(0,$t,1,0,"ng-container",26),l&2){let e=f(3);a("ngTemplateOutlet",e.paginatorNextPageLinkIconTemplate)}}function Xt(l,o){l&1&&p(0,Jt,1,1,"ng-template",32)}function Zt(l,o){if(l&1){let e=le();y(0,"p-paginator",43),H("onPageChange",function(i){Y(e);let n=f();return ee(n.onPageChange(i))}),p(1,At,1,0,null,21)(2,Qt,1,0,null,21)(3,qt,1,0,null,21)(4,Xt,1,0,null,21),v()}if(l&2){let e=f();a("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)("styleClass",e.paginatorStyleClass)("locale",e.paginatorLocale),c(),a("ngIf",e.paginatorFirstPageLinkIconTemplate),c(),a("ngIf",e.paginatorPreviousPageLinkIconTemplate),c(),a("ngIf",e.paginatorLastPageLinkIconTemplate),c(),a("ngIf",e.paginatorNextPageLinkIconTemplate)}}function Yt(l,o){l&1&&b(0)}function ei(l,o){if(l&1&&(y(0,"div",44),p(1,Yt,1,0,"ng-container",26),v()),l&2){let e=f();c(),a("ngTemplateOutlet",e.summaryTemplate)}}function ti(l,o){l&1&&D(0,"div",45,4),l&2&&a("ngStyle",U(1,Ce))}function ii(l,o){l&1&&D(0,"ArrowDownIcon")}function li(l,o){}function ni(l,o){l&1&&p(0,li,0,0,"ng-template")}function oi(l,o){if(l&1&&(y(0,"span",46,5),p(2,ii,1,0,"ArrowDownIcon",21)(3,ni,1,0,null,26),v()),l&2){let e=f();a("ngStyle",U(3,Ce)),c(2),a("ngIf",!e.reorderIndicatorUpIconTemplate),c(),a("ngTemplateOutlet",e.reorderIndicatorUpIconTemplate)}}function ri(l,o){l&1&&D(0,"ArrowUpIcon")}function ai(l,o){}function si(l,o){l&1&&p(0,ai,0,0,"ng-template")}function ci(l,o){if(l&1&&(y(0,"span",47,6),p(2,ri,1,0,"ArrowUpIcon",21)(3,si,1,0,null,26),v()),l&2){let e=f();a("ngStyle",U(3,Ce)),c(2),a("ngIf",!e.reorderIndicatorDownIconTemplate),c(),a("ngTemplateOutlet",e.reorderIndicatorDownIconTemplate)}}var di=["pTreeTableBody",""],pi=(l,o,e,t)=>({$implicit:l,node:o,rowData:e,columns:t}),hi=(l,o)=>({$implicit:l,frozen:o});function ui(l,o){l&1&&b(0)}function fi(l,o){if(l&1&&(O(0),p(1,ui,1,0,"ng-container",2),P()),l&2){let e=f().$implicit,t=f();c(),a("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Ve(2,pi,e,e.node,e.node.data,t.columns))}}function gi(l,o){if(l&1&&p(0,fi,2,7,"ng-container",1),l&2){let e=o.$implicit;a("ngIf",e.visible)}}function mi(l,o){l&1&&b(0)}function bi(l,o){if(l&1&&(O(0),p(1,mi,1,0,"ng-container",2),P()),l&2){let e=f();c(),a("ngTemplateOutlet",e.tt.emptyMessageTemplate)("ngTemplateOutletContext",K(2,hi,e.columns,e.frozen))}}var Ti=["scrollHeader"],_i=["scrollHeaderBox"],yi=["scrollBody"],Ci=["scrollTable"],wi=["loadingTable"],vi=["scrollFooter"],Si=["scrollFooterBox"],Ii=["scrollableAligner"],xi=["scroller"],Ei=["ttScrollableView",""],ki=l=>({height:l}),Ye=(l,o)=>({$implicit:l,options:o}),Di=l=>({options:l}),zi=(l,o)=>({"max-height":l,"overflow-y":o}),Fi=()=>({}),Li=()=>({"background-color":"transparent"});function Mi(l,o){l&1&&b(0)}function Ni(l,o){l&1&&b(0)}function Vi(l,o){l&1&&b(0)}function Ri(l,o){if(l&1&&p(0,Vi,1,0,"ng-container",12),l&2){let e=o.$implicit,t=o.options;f(2);let i=pe(11);a("ngTemplateOutlet",i)("ngTemplateOutletContext",K(2,Ye,e,t))}}function Oi(l,o){l&1&&b(0)}function Pi(l,o){if(l&1&&p(0,Oi,1,0,"ng-container",12),l&2){let e=o.options,t=f(3);a("ngTemplateOutlet",t.loaderTemplate)("ngTemplateOutletContext",z(2,Di,e))}}function Hi(l,o){l&1&&(O(0),p(1,Pi,1,4,"ng-template",19),P())}function Ki(l,o){if(l&1){let e=le();y(0,"p-scroller",17,3),H("onLazyLoad",function(i){Y(e);let n=f();return ee(n.tt.onLazyItemLoad(i))}),p(2,Ri,1,5,"ng-template",18)(3,Hi,2,0,"ng-container",15),v()}if(l&2){let e=f();Le(z(8,ki,e.tt.scrollHeight!=="flex"?e.tt.scrollHeight:void 0)),a("items",e.tt.serializedValue)("scrollHeight",e.scrollHeight!=="flex"?void 0:"100%")("itemSize",e.tt.virtualScrollItemSize||e.tt._virtualRowHeight)("lazy",e.tt.lazy)("options",e.tt.virtualScrollOptions),c(3),a("ngIf",e.loaderTemplate)}}function Bi(l,o){l&1&&b(0)}function Ai(l,o){if(l&1&&(O(0),y(1,"div",20,4),p(3,Bi,1,0,"ng-container",12),v(),P()),l&2){let e=f(),t=pe(11);c(),a("ngStyle",K(3,zi,e.tt.scrollHeight!=="flex"?e.scrollHeight:void 0,!e.frozen&&e.tt.scrollHeight?"scroll":void 0)),c(2),a("ngTemplateOutlet",t)("ngTemplateOutletContext",K(7,Ye,e.serializedValue,U(6,Fi)))}}function Ui(l,o){l&1&&b(0)}function ji(l,o){l&1&&D(0,"div",24,6),l&2&&a("ngStyle",U(1,Li))}function Qi(l,o){if(l&1&&(y(0,"table",21,5),p(2,Ui,1,0,"ng-container",12),D(3,"tbody",22),v(),p(4,ji,2,2,"div",23)),l&2){let e=o.$implicit,t=o.options,i=f();W(i.tt.tableStyleClass),a("ngClass",t.contentStyleClass)("ngStyle",i.getMergedTableStyles(t.contentStyle)),c(2),a("ngTemplateOutlet",i.frozen&&i.tt.frozenColGroupTemplate||i.tt.colGroupTemplate)("ngTemplateOutletContext",z(11,M,i.columns)),c(),a("pTreeTableBody",i.columns)("pTreeTableBodyTemplate",i.frozen&&i.tt.frozenBodyTemplate||i.tt.bodyTemplate)("serializedNodes",e)("frozen",i.frozen),c(),a("ngIf",i.frozen)}}function Wi(l,o){l&1&&b(0)}function Gi(l,o){l&1&&b(0)}function qi(l,o){if(l&1&&(y(0,"div",25,7)(2,"div",26,8)(4,"table",27),p(5,Wi,1,0,"ng-container",12),y(6,"tfoot",28),p(7,Gi,1,0,"ng-container",12),v()()()()),l&2){let e=f();c(4),a("ngClass",e.tt.tableStyleClass)("ngStyle",e.tt.tableStyle),c(),a("ngTemplateOutlet",e.frozen&&e.tt.frozenColGroupTemplate||e.tt.colGroupTemplate)("ngTemplateOutletContext",z(6,M,e.columns)),c(2),a("ngTemplateOutlet",e.frozen&&e.tt.frozenFooterTemplate||e.tt.footerTemplate)("ngTemplateOutletContext",z(8,M,e.columns))}}var $i=(l,o)=>({visibility:l,"margin-left":o});function Ji(l,o){l&1&&D(0,"ChevronDownIcon"),l&2&&A("aria-hidden",!0)}function Xi(l,o){l&1&&D(0,"ChevronRightIcon"),l&2&&A("aria-hidden",!0)}function Zi(l,o){if(l&1&&(O(0),p(1,Ji,1,1,"ChevronDownIcon",1)(2,Xi,1,1,"ChevronRightIcon",1),P()),l&2){let e=f();c(),a("ngIf",e.rowNode.node.expanded),c(),a("ngIf",!e.rowNode.node.expanded)}}function Yi(l,o){}function el(l,o){l&1&&p(0,Yi,0,0,"ng-template")}var re=(()=>{class l{sortSource=new B;selectionSource=new B;contextMenuSource=new B;uiUpdateSource=new B;totalRecordsSource=new B;sortSource$=this.sortSource.asObservable();selectionSource$=this.selectionSource.asObservable();contextMenuSource$=this.contextMenuSource.asObservable();uiUpdateSource$=this.uiUpdateSource.asObservable();totalRecordsSource$=this.totalRecordsSource.asObservable();onSort(e){this.sortSource.next(e)}onSelectionChange(){this.selectionSource.next(null)}onContextMenu(e){this.contextMenuSource.next(e)}onUIUpdate(e){this.uiUpdateSource.next(e)}onTotalRecordsChange(e){this.totalRecordsSource.next(e)}static \u0275fac=function(t){return new(t||l)};static \u0275prov=xe({token:l,factory:l.\u0275fac})}return l})(),J=(()=>{class l{document;renderer;el;cd;zone;tableService;filterService;config;columns;style;styleClass;tableStyle;tableStyleClass;autoLayout;lazy=!1;lazyLoadOnInit=!0;paginator;rows;first=0;pageLinks=5;rowsPerPageOptions;alwaysShowPaginator=!0;paginatorPosition="bottom";paginatorStyleClass;paginatorDropdownAppendTo;currentPageReportTemplate="{currentPage} of {totalPages}";showCurrentPageReport;showJumpToPageDropdown;showFirstLastIcon=!0;showPageLinks=!0;defaultSortOrder=1;sortMode="single";resetPageOnSort=!0;customSort;selectionMode;contextMenuSelection;contextMenuSelectionMode="separate";dataKey;metaKeySelection=!1;compareSelectionBy="deepEquals";rowHover;loading;loadingIcon;showLoader=!0;scrollable;scrollHeight;virtualScroll;virtualScrollItemSize;virtualScrollOptions;virtualScrollDelay=150;frozenWidth;frozenColumns;resizableColumns;columnResizeMode="fit";reorderableColumns;contextMenu;rowTrackBy=(e,t)=>t;filters={};globalFilterFields;filterDelay=300;filterMode="lenient";filterLocale;paginatorLocale;get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(e){this._sortField=e}get sortOrder(){return this._sortOrder}set sortOrder(e){this._sortOrder=e}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(e){this._multiSortMeta=e}get selection(){return this._selection}set selection(e){this._selection=e}get value(){return this._value}set value(e){this._value=e}get virtualRowHeight(){return this._virtualRowHeight}set virtualRowHeight(e){this._virtualRowHeight=e,console.warn("The virtualRowHeight property is deprecated, use virtualScrollItemSize property instead.")}get selectionKeys(){return this._selectionKeys}set selectionKeys(e){this._selectionKeys=e,this.selectionKeysChange.emit(this._selectionKeys)}selectionChange=new w;contextMenuSelectionChange=new w;onFilter=new w;onNodeExpand=new w;onNodeCollapse=new w;onPage=new w;onSort=new w;onLazyLoad=new w;sortFunction=new w;onColResize=new w;onColReorder=new w;onNodeSelect=new w;onNodeUnselect=new w;onContextMenuSelect=new w;onHeaderCheckboxToggle=new w;onEditInit=new w;onEditComplete=new w;onEditCancel=new w;selectionKeysChange=new w;containerViewChild;resizeHelperViewChild;reorderIndicatorUpViewChild;reorderIndicatorDownViewChild;tableViewChild;scrollableViewChild;scrollableFrozenViewChild;templates;_value=[];_virtualRowHeight=28;_selectionKeys;serializedValue;_totalRecords=0;_multiSortMeta;_sortField;_sortOrder=1;filteredNodes;filterTimeout;colGroupTemplate;captionTemplate;headerTemplate;bodyTemplate;footerTemplate;summaryTemplate;emptyMessageTemplate;paginatorLeftTemplate;paginatorRightTemplate;paginatorDropdownItemTemplate;frozenHeaderTemplate;frozenBodyTemplate;frozenFooterTemplate;frozenColGroupTemplate;loadingIconTemplate;reorderIndicatorUpIconTemplate;reorderIndicatorDownIconTemplate;sortIconTemplate;checkboxIconTemplate;headerCheckboxIconTemplate;togglerIconTemplate;paginatorFirstPageLinkIconTemplate;paginatorLastPageLinkIconTemplate;paginatorPreviousPageLinkIconTemplate;paginatorNextPageLinkIconTemplate;lastResizerHelperX;reorderIconWidth;reorderIconHeight;draggedColumn;dropPosition;preventSelectionSetterPropagation;_selection;selectedKeys={};rowTouched;editingCell;editingCellData;editingCellField;editingCellClick;documentEditListener;initialized;toggleRowIndex;ngOnInit(){this.lazy&&this.lazyLoadOnInit&&!this.virtualScroll&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"caption":this.captionTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"body":this.bodyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"summary":this.summaryTemplate=e.template;break;case"colgroup":this.colGroupTemplate=e.template;break;case"emptymessage":this.emptyMessageTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template;break;case"frozenheader":this.frozenHeaderTemplate=e.template;break;case"frozenbody":this.frozenBodyTemplate=e.template;break;case"frozenfooter":this.frozenFooterTemplate=e.template;break;case"frozencolgroup":this.frozenColGroupTemplate=e.template;break;case"loadingicon":this.loadingIconTemplate=e.template;break;case"reorderindicatorupicon":this.reorderIndicatorUpIconTemplate=e.template;break;case"reorderindicatordownicon":this.reorderIndicatorDownIconTemplate=e.template;break;case"sorticon":this.sortIconTemplate=e.template;break;case"checkboxicon":this.checkboxIconTemplate=e.template;break;case"headercheckboxicon":this.headerCheckboxIconTemplate=e.template;break;case"togglericon":this.togglerIconTemplate=e.template;break;case"paginatorfirstpagelinkicon":this.paginatorFirstPageLinkIconTemplate=e.template;break;case"paginatorlastpagelinkicon":this.paginatorLastPageLinkIconTemplate=e.template;break;case"paginatorpreviouspagelinkicon":this.paginatorPreviousPageLinkIconTemplate=e.template;break;case"paginatornextpagelinkicon":this.paginatorNextPageLinkIconTemplate=e.template;break}})}constructor(e,t,i,n,r,s,d,g){this.document=e,this.renderer=t,this.el=i,this.cd=n,this.zone=r,this.tableService=s,this.filterService=d,this.config=g}ngOnChanges(e){e.value&&(this._value=e.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,this.sortMode=="single"&&this.sortField?this.sortSingle():this.sortMode=="multiple"&&this.multiSortMeta?this.sortMultiple():this.hasFilter()&&this._filter()),this.updateSerializedValue(),this.tableService.onUIUpdate(this.value)),e.sortField&&(this._sortField=e.sortField.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),e.sortOrder&&(this._sortOrder=e.sortOrder.currentValue,(!this.lazy||this.initialized)&&this.sortMode==="single"&&this.sortSingle()),e.multiSortMeta&&(this._multiSortMeta=e.multiSortMeta.currentValue,this.sortMode==="multiple"&&this.sortMultiple()),e.selection&&(this._selection=e.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateselectedKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1)}updateSerializedValue(){this.serializedValue=[],this.paginator?this.serializePageNodes():this.serializeNodes(null,this.filteredNodes||this.value,0,!0)}serializeNodes(e,t,i,n){if(t&&t.length)for(let r of t){r.parent=e;let s={node:r,parent:e,level:i,visible:n&&(e?e.expanded:!0)};this.serializedValue.push(s),s.visible&&r.expanded&&this.serializeNodes(r,r.children,i+1,s.visible)}}serializePageNodes(){let e=this.filteredNodes||this.value;if(this.serializedValue=[],e&&e.length){let t=this.lazy?0:this.first;for(let i=t;i<t+this.rows;i++){let n=e[i];n&&(this.serializedValue.push({node:n,parent:null,level:0,visible:!0}),this.serializeNodes(n,n.children,1,!0))}}}updateselectedKeys(){if(this.dataKey&&this._selection)if(this.selectedKeys={},Array.isArray(this._selection))for(let e of this._selection)this.selectedKeys[String(C.resolveFieldData(e.data,this.dataKey))]=1;else this.selectedKeys[String(C.resolveFieldData(this._selection.data,this.dataKey))]=1}onPageChange(e){this.first=e.first,this.rows=e.rows,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.serializePageNodes(),this.onPage.emit({first:this.first,rows:this.rows}),this.tableService.onUIUpdate(this.value),this.scrollable&&this.resetScrollTop()}sort(e){let t=e.originalEvent;if(this.sortMode==="single"&&(this._sortOrder=this.sortField===e.field?this.sortOrder*-1:this.defaultSortOrder,this._sortField=e.field,this.sortSingle(),this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()),this.sortMode==="multiple"){let i=t.metaKey||t.ctrlKey,n=this.getSortMeta(e.field);n?i?n.order=n.order*-1:(this._multiSortMeta=[{field:e.field,order:n.order*-1}],this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()):((!i||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()),this.multiSortMeta.push({field:e.field,order:this.defaultSortOrder})),this.sortMultiple()}}sortSingle(){if(this.sortField&&this.sortOrder){this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.sortNodes(this.value),this.hasFilter()&&this._filter());let e={field:this.sortField,order:this.sortOrder};this.onSort.emit(e),this.tableService.onSort(e),this.updateSerializedValue()}}sortNodes(e){if(!(!e||e.length===0)){this.customSort?this.sortFunction.emit({data:e,mode:this.sortMode,field:this.sortField,order:this.sortOrder}):e.sort((t,i)=>{let n=C.resolveFieldData(t.data,this.sortField),r=C.resolveFieldData(i.data,this.sortField),s=null;return n==null&&r!=null?s=-1:n!=null&&r==null?s=1:n==null&&r==null?s=0:typeof n=="string"&&typeof r=="string"?s=n.localeCompare(r,void 0,{numeric:!0}):s=n<r?-1:n>r?1:0,this.sortOrder*s});for(let t of e)this.sortNodes(t.children)}}sortMultiple(){this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.sortMultipleNodes(this.value),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.updateSerializedValue(),this.tableService.onSort(this.multiSortMeta))}sortMultipleNodes(e){if(!(!e||e.length===0)){this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):e.sort((t,i)=>this.multisortField(t,i,this.multiSortMeta,0));for(let t of e)this.sortMultipleNodes(t.children)}}multisortField(e,t,i,n){if(C.isEmpty(this.multiSortMeta)||C.isEmpty(i[n]))return 0;let r=C.resolveFieldData(e.data,i[n].field),s=C.resolveFieldData(t.data,i[n].field),d=null;if(r==null&&s!=null?d=-1:r!=null&&s==null?d=1:r==null&&s==null&&(d=0),typeof r=="string"||r instanceof String){if(r.localeCompare&&r!=s)return i[n].order*r.localeCompare(s,void 0,{numeric:!0})}else d=r<s?-1:1;return r==s?i.length-1>n?this.multisortField(e,t,i,n+1):0:i[n].order*d}getSortMeta(e){if(this.multiSortMeta&&this.multiSortMeta.length){for(let t=0;t<this.multiSortMeta.length;t++)if(this.multiSortMeta[t].field===e)return this.multiSortMeta[t]}return null}isSorted(e){if(this.sortMode==="single")return this.sortField&&this.sortField===e;if(this.sortMode==="multiple"){let t=!1;if(this.multiSortMeta){for(let i=0;i<this.multiSortMeta.length;i++)if(this.multiSortMeta[i].field==e){t=!0;break}}return t}}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta,forceUpdate:()=>this.cd.detectChanges()}}onLazyItemLoad(e){this.onLazyLoad.emit(Ie(V(V({},this.createLazyLoadMetadata()),e),{rows:e.last-e.first}))}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(e){this.scrollableViewChild&&this.scrollableViewChild.scrollToVirtualIndex(e),this.scrollableFrozenViewChild&&this.scrollableViewChild.scrollToVirtualIndex(e)}scrollTo(e){this.scrollableViewChild&&this.scrollableViewChild.scrollTo(e),this.scrollableFrozenViewChild&&this.scrollableViewChild.scrollTo(e)}isEmpty(){let e=this.filteredNodes||this.value;return e==null||e.length==0}getBlockableElement(){return this.el.nativeElement.children[0]}onColumnResizeBegin(e){let t=h.getOffset(this.containerViewChild?.nativeElement).left;this.lastResizerHelperX=e.pageX-t+this.containerViewChild?.nativeElement.scrollLeft,e.preventDefault()}onColumnResize(e){let t=h.getOffset(this.containerViewChild?.nativeElement).left;h.addClass(this.containerViewChild?.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild?.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=e.pageX-t+this.containerViewChild?.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(e,t){let i=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,n=t.offsetWidth,r=n+i,s=t.style.minWidth||15;if(n+i>parseInt(s)){if(this.columnResizeMode==="fit"){let d=t.nextElementSibling;for(;!d.offsetParent;)d=d.nextElementSibling;if(d){let g=d.offsetWidth-i,T=d.style.minWidth||15;if(r>15&&g>parseInt(T))if(this.scrollable){let k=this.findParentScrollableView(t),S=h.findSingle(k,".p-treetable-scrollable-body table")||h.findSingle(k,".p-scroller-viewport table"),L=h.findSingle(k,"table.p-treetable-scrollable-header-table"),N=h.findSingle(k,"table.p-treetable-scrollable-footer-table"),F=h.index(t);this.resizeColGroup(L,F,r,g),this.resizeColGroup(S,F,r,g),this.resizeColGroup(N,F,r,g)}else t.style.width=r+"px",d&&(d.style.width=g+"px")}}else if(this.columnResizeMode==="expand")if(this.scrollable){let d=this.findParentScrollableView(t),g=h.findSingle(d,".p-treetable-scrollable-body")||h.findSingle(d,".p-scroller-viewport"),T=h.findSingle(d,".p-treetable-scrollable-header"),k=h.findSingle(d,".p-treetable-scrollable-footer"),S=h.findSingle(d,".p-treetable-scrollable-body table")||h.findSingle(d,".p-scroller-viewport table"),L=h.findSingle(d,"table.p-treetable-scrollable-header-table"),N=h.findSingle(d,"table.p-treetable-scrollable-footer-table"),F=h.index(t),X=t?S.offsetWidth+i:r,Z=t?L.offsetWidth+i:r,ae=this.containerViewChild?.nativeElement.offsetWidth>=X,se=(we,ve,Se,tt)=>{we&&ve&&(we.style.width=tt?Se+h.calculateScrollbarWidth(g)+"px":"auto",ve.style.width=Se+"px")};se(g,S,X,ae),se(T,L,Z,ae),se(k,N,Z,ae),this.resizeColGroup(L,F,r,null),this.resizeColGroup(S,F,r,null),this.resizeColGroup(N,F,r,null)}else{this.tableViewChild.nativeElement.style.width=this.tableViewChild?.nativeElement.offsetWidth+i+"px",t.style.width=r+"px";let d=this.tableViewChild?.nativeElement.style.width;this.containerViewChild.nativeElement.style.width=d+"px"}this.onColResize.emit({element:t,delta:i})}this.resizeHelperViewChild.nativeElement.style.display="none",h.removeClass(this.containerViewChild?.nativeElement,"p-unselectable-text")}findParentScrollableView(e){if(e){let t=e.parentElement;for(;t&&!h.hasClass(t,"p-treetable-scrollable-view");)t=t.parentElement;return t}else return null}resizeColGroup(e,t,i,n){if(e){let r=e.children[0].nodeName==="COLGROUP"?e.children[0]:null;if(r){let s=r.children[t],d=s.nextElementSibling;s.style.width=i+"px",d&&n&&(d.style.width=n+"px")}else throw"Scrollable tables require a colgroup to support resizable columns"}}onColumnDragStart(e,t){this.reorderIconWidth=h.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild?.nativeElement),this.reorderIconHeight=h.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild?.nativeElement),this.draggedColumn=t,e.dataTransfer.setData("text","b")}onColumnDragEnter(e,t){if(this.reorderableColumns&&this.draggedColumn&&t){e.preventDefault();let i=h.getOffset(this.containerViewChild?.nativeElement),n=h.getOffset(t);if(this.draggedColumn!=t){let r=n.left-i.left,s=i.top-n.top,d=n.left+t.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=n.top-i.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=n.top-i.top+t.offsetHeight+"px",e.pageX>d?(this.reorderIndicatorUpViewChild.nativeElement.style.left=r+t.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=r+t.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=r-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=r-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block"}else e.dataTransfer.dropEffect="none"}}onColumnDragLeave(e){this.reorderableColumns&&this.draggedColumn&&(e.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(e,t){if(e.preventDefault(),this.draggedColumn){let i=h.indexWithinGroup(this.draggedColumn,"ttreorderablecolumn"),n=h.indexWithinGroup(t,"ttreorderablecolumn"),r=i!=n;r&&(n-i==1&&this.dropPosition===-1||i-n==1&&this.dropPosition===1)&&(r=!1),r&&n<i&&this.dropPosition===1&&(n=n+1),r&&n>i&&this.dropPosition===-1&&(n=n-1),r&&(C.reorderArray(this.columns,i,n),this.onColReorder.emit({dragIndex:i,dropIndex:n,columns:this.columns})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}handleRowClick(e){let t=e.originalEvent.target.nodeName;if(!(t=="INPUT"||t=="BUTTON"||t=="A"||h.hasClass(e.originalEvent.target,"p-clickable"))){if(this.selectionMode){this.preventSelectionSetterPropagation=!0;let i=e.rowNode,n=this.isSelected(i.node),r=this.rowTouched?!1:this.metaKeySelection,s=this.dataKey?String(C.resolveFieldData(i.node.data,this.dataKey)):null;if(r){let d=e.originalEvent,g=d.metaKey||d.ctrlKey;if(n&&g){if(this.isSingleSelectionMode())this._selection=null,this.selectedKeys={},this.selectionChange.emit(null);else{let T=this.findIndexInSelection(i.node);this._selection=this.selection.filter((k,S)=>S!=T),this.selectionChange.emit(this.selection),s&&delete this.selectedKeys[s]}this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:i.node,type:"row"})}else this.isSingleSelectionMode()?(this._selection=i.node,this.selectionChange.emit(i.node),s&&(this.selectedKeys={},this.selectedKeys[s]=1)):this.isMultipleSelectionMode()&&(g?this._selection=this.selection||[]:(this._selection=[],this.selectedKeys={}),this._selection=[...this.selection,i.node],this.selectionChange.emit(this.selection),s&&(this.selectedKeys[s]=1)),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:i.node,type:"row",index:e.rowIndex})}else if(this.selectionMode==="single")n?(this._selection=null,this.selectedKeys={},this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:i.node,type:"row"})):(this._selection=i.node,this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:i.node,type:"row",index:e.rowIndex}),s&&(this.selectedKeys={},this.selectedKeys[s]=1));else if(this.selectionMode==="multiple")if(n){let d=this.findIndexInSelection(i.node);this._selection=this.selection.filter((g,T)=>T!=d),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:i.node,type:"row"}),s&&delete this.selectedKeys[s]}else this._selection=this.selection?[...this.selection,i.node]:[i.node],this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:i.node,type:"row",index:e.rowIndex}),s&&(this.selectedKeys[s]=1);this.tableService.onSelectionChange()}this.rowTouched=!1}}handleRowTouchEnd(e){this.rowTouched=!0}handleRowRightClick(e){if(this.contextMenu){let t=e.rowNode.node;if(this.contextMenuSelectionMode==="separate")this.contextMenuSelection=t,this.contextMenuSelectionChange.emit(t),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,node:t}),this.contextMenu.show(e.originalEvent),this.tableService.onContextMenu(t);else if(this.contextMenuSelectionMode==="joint"){this.preventSelectionSetterPropagation=!0;let i=this.isSelected(t),n=this.dataKey?String(C.resolveFieldData(t.data,this.dataKey)):null;i||(this.isSingleSelectionMode()?(this.selection=t,this.selectionChange.emit(t)):this.isMultipleSelectionMode()&&(this.selection=[t],this.selectionChange.emit(this.selection)),n&&(this.selectedKeys[n]=1)),this.contextMenu.show(e.originalEvent),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,node:t})}}}toggleNodeWithCheckbox(e){this.selection=this.selection||[],this.preventSelectionSetterPropagation=!0;let t=e.rowNode.node;this.isSelected(t)?(this.propagateSelectionDown(t,!1),e.rowNode.parent&&this.propagateSelectionUp(t.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e,node:t})):(this.propagateSelectionDown(t,!0),e.rowNode.parent&&this.propagateSelectionUp(t.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e,node:t})),this.tableService.onSelectionChange()}toggleNodesWithCheckbox(e,t){let i=this.filteredNodes||this.value;this._selection=t&&i?i.slice():[],this.toggleAll(t),t||(this._selection=[],this.selectedKeys={}),this.preventSelectionSetterPropagation=!0,this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:e,checked:t})}toggleAll(e){let t=this.filteredNodes||this.value;if(this.selectionKeys){if(t&&t.length){for(let i of t)this.propagateDown(i,e);this.selectionKeysChange.emit(this.selectionKeys)}}else if(t&&t.length)for(let i of t)this.propagateSelectionDown(i,e)}propagateSelectionUp(e,t){if(e.children&&e.children.length){let n=0,r=!1,s=this.dataKey?String(C.resolveFieldData(e.data,this.dataKey)):null;for(let d of e.children)this.isSelected(d)?n++:d.partialSelected&&(r=!0);if(t&&n==e.children.length)this._selection=[...this.selection||[],e],e.partialSelected=!1,s&&(this.selectedKeys[s]=1);else{if(!t){let d=this.findIndexInSelection(e);d>=0&&(this._selection=this.selection.filter((g,T)=>T!=d),s&&delete this.selectedKeys[s])}r||n>0&&n!=e.children.length?e.partialSelected=!0:e.partialSelected=!1}}let i=e.parent;e.checked=t,i&&this.propagateSelectionUp(i,t)}propagateSelectionDown(e,t){let i=this.findIndexInSelection(e),n=this.dataKey?String(C.resolveFieldData(e.data,this.dataKey)):null;if(t&&i==-1?(this._selection=[...this.selection||[],e],n&&(this.selectedKeys[n]=1)):!t&&i>-1&&(this._selection=this.selection.filter((r,s)=>s!=i),n&&delete this.selectedKeys[n]),e.partialSelected=!1,e.checked=t,e.children&&e.children.length)for(let r of e.children)this.propagateSelectionDown(r,t)}isSelected(e){return e&&this.selection?this.dataKey?e.hasOwnProperty("checked")?e.checked:this.selectedKeys[C.resolveFieldData(e.data,this.dataKey)]!==void 0:Array.isArray(this.selection)?this.findIndexInSelection(e)>-1:this.equals(e,this.selection):!1}isNodeSelected(e){return this.selectionMode&&this.selectionKeys?this.selectionKeys[this.nodeKey(e)]?.checked===!0:!1}isNodePartialSelected(e){return this.selectionMode&&this.selectionKeys?this.selectionKeys[this.nodeKey(e)]?.partialChecked===!0:!1}nodeKey(e){return C.resolveFieldData(e,this.dataKey)||C.resolveFieldData(e?.data,this.dataKey)}toggleCheckbox(e){let{rowNode:t,check:i,originalEvent:n}=e,r=t.node;this.selectionKeys?(this.propagateDown(r,i),r.parent&&this.propagateUp(r.parent,i),this.selectionKeysChange.emit(this.selectionKeys)):this.toggleNodeWithCheckbox({originalEvent:n,rowNode:t}),this.tableService.onSelectionChange()}propagateDown(e,t){if(t?this.selectionKeys[this.nodeKey(e)]={checked:!0,partialChecked:!1}:delete this.selectionKeys[this.nodeKey(e)],e.children&&e.children.length)for(let i of e.children)this.propagateDown(i,t)}propagateUp(e,t){let i=0,n=!1;for(let s of e.children)this.selectionKeys[this.nodeKey(s)]&&this.selectionKeys[this.nodeKey(s)].checked?i++:this.selectionKeys[this.nodeKey(s)]&&this.selectionKeys[this.nodeKey(s)].partialChecked&&(n=!0);t&&i===e.children.length?this.selectionKeys[this.nodeKey(e)]={checked:!0,partialChecked:!1}:(t||delete this.selectionKeys[this.nodeKey(e)],n||i>0&&i!==e.children.length?this.selectionKeys[this.nodeKey(e)]={checked:!1,partialChecked:!0}:this.selectionKeys[this.nodeKey(e)]={checked:!1,partialChecked:!1});let r=e.parent;r&&this.propagateUp(r,t)}findIndexInSelection(e){let t=-1;if(this.selection&&this.selection.length){for(let i=0;i<this.selection.length;i++)if(this.equals(e,this.selection[i])){t=i;break}}return t}isSingleSelectionMode(){return this.selectionMode==="single"}isMultipleSelectionMode(){return this.selectionMode==="multiple"}equals(e,t){return this.compareSelectionBy==="equals"?C.equals(e,t):C.equals(e.data,t.data,this.dataKey)}filter(e,t,i){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(e)?this.filters[t]&&delete this.filters[t]:this.filters[t]={value:e,matchMode:i},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay)}filterGlobal(e,t){this.filter(e,"global",t)}isFilterBlank(e){return e!=null?!!(typeof e=="string"&&e.trim().length==0||Array.isArray(e)&&e.length==0):!0}_filter(){if(this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(!this.hasFilter())this.filteredNodes=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0);else{let t;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");t=this.globalFilterFields||this.columns}this.filteredNodes=[];let i=this.filterMode==="strict",n=!1;for(let r of this.value){let s=V({},r),d=!0,g=!1,T;for(let S in this.filters)if(this.filters.hasOwnProperty(S)&&S!=="global"){let L=this.filters[S],N=S,F=L.value,X=L.matchMode||"startsWith",Z=this.filterService.filters[X];if(T={filterField:N,filterValue:F,filterConstraint:Z,isStrictMode:i},(i&&!(this.findFilteredNodes(s,T)||this.isFilterMatched(s,T))||!i&&!(this.isFilterMatched(s,T)||this.findFilteredNodes(s,T)))&&(d=!1),!d)break}if(this.filters.global&&!g&&t){let S=V({},s),L,N=this.filters.global.value,F=this.filterService.filters[this.filters.global.matchMode];T={filterField:L,filterValue:N,filterConstraint:F,isStrictMode:i,globalFilterFieldsArray:t},(i&&(this.findFilteredNodes(S,T)||this.isFilterMatched(S,T))||!i&&(this.isFilterMatched(S,T)||this.findFilteredNodes(S,T)))&&(g=!0,s=S)}let k=d;this.filters.global&&(k=d&&g),k&&this.filteredNodes.push(s),n=n||!d||g||d&&this.filteredNodes.length>0||!g&&this.filteredNodes.length===0}n||(this.filteredNodes=null),this.paginator&&(this.totalRecords=this.filteredNodes?this.filteredNodes.length:this.value?this.value.length:0)}this.cd.markForCheck()}this.first=0;let e=this.filteredNodes||this.value;this.onFilter.emit({filters:this.filters,filteredValue:e}),this.tableService.onUIUpdate(e),this.updateSerializedValue(),this.scrollable&&this.resetScrollTop()}findFilteredNodes(e,t){if(e){let i=!1;if(e.children){let n=[...e.children];e.children=[];for(let r of n){let s=V({},r);this.isFilterMatched(s,t)&&(i=!0,e.children.push(s))}}if(i)return!0}}isFilterMatched(e,t){let{filterField:i,filterValue:n,filterConstraint:r,isStrictMode:s,globalFilterFieldsArray:d}=t,g=!1,T=k=>r(C.resolveFieldData(e.data,k),n,this.filterLocale);return g=d?.length?d.some(k=>T(k.field||k)):T(i),(!g||s&&!this.isNodeLeaf(e))&&(g=this.findFilteredNodes(e,{filterField:i,filterValue:n,filterConstraint:r,isStrictMode:s,globalFilterFieldsArray:d})||g),g}isNodeLeaf(e){return e.leaf===!1?!1:!(e.children&&e.children.length)}hasFilter(){let e=!0;for(let t in this.filters)if(this.filters.hasOwnProperty(t)){e=!1;break}return!e}reset(){this._sortField=null,this._sortOrder=1,this._multiSortMeta=null,this.tableService.onSort(null),this.filteredNodes=null,this.filters={},this.first=0,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}updateEditingCell(e,t,i){this.editingCell=e,this.editingCellData=t,this.editingCellField=i,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&h.find(this.editingCell,".ng-invalid.ng-dirty").length===0}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=this.renderer.listen(this.document,"click",e=>{this.editingCell&&!this.editingCellClick&&this.isEditingCellValid()&&(h.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData}),this.editingCellField=null,this.editingCellData=null,this.unbindDocumentEditListener()),this.editingCellClick=!1}))}unbindDocumentEditListener(){this.documentEditListener&&(this.documentEditListener(),this.documentEditListener=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.editingCellField=null,this.editingCellData=null,this.initialized=null}static \u0275fac=function(t){return new(t||l)(m(Pe),m(de),m(te),m(he),m(ie),m(re),m(Be),m(fe))};static \u0275cmp=j({type:l,selectors:[["p-treeTable"]],contentQueries:function(t,i,n){if(t&1&&Me(n,$,4),t&2){let r;I(r=x())&&(i.templates=r)}},viewQuery:function(t,i){if(t&1&&(E(it,5),E(lt,5),E(nt,5),E(ot,5),E(rt,5),E(at,5),E(st,5)),t&2){let n;I(n=x())&&(i.containerViewChild=n.first),I(n=x())&&(i.resizeHelperViewChild=n.first),I(n=x())&&(i.reorderIndicatorUpViewChild=n.first),I(n=x())&&(i.reorderIndicatorDownViewChild=n.first),I(n=x())&&(i.tableViewChild=n.first),I(n=x())&&(i.scrollableViewChild=n.first),I(n=x())&&(i.scrollableFrozenViewChild=n.first)}},hostAttrs:[1,"p-element"],inputs:{columns:"columns",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",autoLayout:[u.HasDecoratorInputTransform,"autoLayout","autoLayout",_],lazy:[u.HasDecoratorInputTransform,"lazy","lazy",_],lazyLoadOnInit:[u.HasDecoratorInputTransform,"lazyLoadOnInit","lazyLoadOnInit",_],paginator:[u.HasDecoratorInputTransform,"paginator","paginator",_],rows:[u.HasDecoratorInputTransform,"rows","rows",R],first:[u.HasDecoratorInputTransform,"first","first",R],pageLinks:[u.HasDecoratorInputTransform,"pageLinks","pageLinks",R],rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:[u.HasDecoratorInputTransform,"alwaysShowPaginator","alwaysShowPaginator",_],paginatorPosition:"paginatorPosition",paginatorStyleClass:"paginatorStyleClass",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:[u.HasDecoratorInputTransform,"showCurrentPageReport","showCurrentPageReport",_],showJumpToPageDropdown:[u.HasDecoratorInputTransform,"showJumpToPageDropdown","showJumpToPageDropdown",_],showFirstLastIcon:[u.HasDecoratorInputTransform,"showFirstLastIcon","showFirstLastIcon",_],showPageLinks:[u.HasDecoratorInputTransform,"showPageLinks","showPageLinks",_],defaultSortOrder:[u.HasDecoratorInputTransform,"defaultSortOrder","defaultSortOrder",R],sortMode:"sortMode",resetPageOnSort:[u.HasDecoratorInputTransform,"resetPageOnSort","resetPageOnSort",_],customSort:[u.HasDecoratorInputTransform,"customSort","customSort",_],selectionMode:"selectionMode",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:[u.HasDecoratorInputTransform,"metaKeySelection","metaKeySelection",_],compareSelectionBy:"compareSelectionBy",rowHover:[u.HasDecoratorInputTransform,"rowHover","rowHover",_],loading:[u.HasDecoratorInputTransform,"loading","loading",_],loadingIcon:"loadingIcon",showLoader:[u.HasDecoratorInputTransform,"showLoader","showLoader",_],scrollable:[u.HasDecoratorInputTransform,"scrollable","scrollable",_],scrollHeight:"scrollHeight",virtualScroll:[u.HasDecoratorInputTransform,"virtualScroll","virtualScroll",_],virtualScrollItemSize:[u.HasDecoratorInputTransform,"virtualScrollItemSize","virtualScrollItemSize",R],virtualScrollOptions:"virtualScrollOptions",virtualScrollDelay:[u.HasDecoratorInputTransform,"virtualScrollDelay","virtualScrollDelay",R],frozenWidth:"frozenWidth",frozenColumns:"frozenColumns",resizableColumns:[u.HasDecoratorInputTransform,"resizableColumns","resizableColumns",_],columnResizeMode:"columnResizeMode",reorderableColumns:[u.HasDecoratorInputTransform,"reorderableColumns","reorderableColumns",_],contextMenu:"contextMenu",rowTrackBy:"rowTrackBy",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:[u.HasDecoratorInputTransform,"filterDelay","filterDelay",R],filterMode:"filterMode",filterLocale:"filterLocale",paginatorLocale:"paginatorLocale",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection",value:"value",virtualRowHeight:"virtualRowHeight",selectionKeys:"selectionKeys"},outputs:{selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onFilter:"onFilter",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onPage:"onPage",onSort:"onSort",onLazyLoad:"onLazyLoad",sortFunction:"sortFunction",onColResize:"onColResize",onColReorder:"onColReorder",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onContextMenuSelect:"onContextMenuSelect",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel",selectionKeysChange:"selectionKeysChange"},features:[Ne([re]),Q,De],decls:12,vars:20,consts:[["container",""],["table",""],["scrollableView",""],["scrollableFrozenView",""],["resizeHelper",""],["reorderIndicatorUp",""],["reorderIndicatorDown",""],["data-scrollselectors",".p-treetable-scrollable-body",3,"ngStyle","ngClass"],["class","p-treetable-loading",4,"ngIf"],["class","p-treetable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale","onPageChange",4,"ngIf"],["class","p-treetable-wrapper",4,"ngIf"],["class","p-treetable-scrollable-wrapper",4,"ngIf"],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale","onPageChange",4,"ngIf"],["class","p-treetable-footer",4,"ngIf"],["class","p-column-resizer-helper",3,"ngStyle",4,"ngIf"],["class","p-treetable-reorder-indicator-up",3,"ngStyle",4,"ngIf"],["class","p-treetable-reorder-indicator-down",3,"ngStyle",4,"ngIf"],[1,"p-treetable-loading"],[1,"p-treetable-loading-overlay","p-component-overlay"],[3,"class",4,"ngIf"],[4,"ngIf"],[3,"spin","styleClass",4,"ngIf"],["class","p-treetable-loading-icon",4,"ngIf"],[3,"spin","styleClass"],[1,"p-treetable-loading-icon"],[4,"ngTemplateOutlet"],[1,"p-treetable-header"],["styleClass","p-paginator-top",3,"onPageChange","rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale"],["pTemplate","firstpagelinkicon"],["pTemplate","previouspagelinkicon"],["pTemplate","lastpagelinkicon"],["pTemplate","nextpagelinkicon"],[1,"p-treetable-wrapper"],["role","table",3,"ngClass","ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","rowgroup",1,"p-treetable-thead"],["role","rowgroup",1,"p-treetable-tbody",3,"pTreeTableBody","pTreeTableBodyTemplate"],["role","rowgroup",1,"p-treetable-tfoot"],[1,"p-treetable-scrollable-wrapper"],["class","p-treetable-scrollable-view p-treetable-frozen-view",3,"ttScrollableView","frozen","ngStyle","scrollHeight",4,"ngIf"],[1,"p-treetable-scrollable-view",3,"ttScrollableView","frozen","scrollHeight","ngStyle"],[1,"p-treetable-scrollable-view","p-treetable-frozen-view",3,"ttScrollableView","frozen","ngStyle","scrollHeight"],["styleClass","p-paginator-bottom",3,"onPageChange","rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","styleClass","locale"],[1,"p-treetable-footer"],[1,"p-column-resizer-helper",3,"ngStyle"],[1,"p-treetable-reorder-indicator-up",3,"ngStyle"],[1,"p-treetable-reorder-indicator-down",3,"ngStyle"]],template:function(t,i){t&1&&(y(0,"div",7,0),p(2,Tt,4,2,"div",8)(3,yt,2,1,"div",9)(4,Mt,5,21,"p-paginator",10)(5,Ot,9,16,"div",11)(6,Ht,4,8,"div",12)(7,Zt,5,21,"p-paginator",13)(8,ei,2,1,"div",14)(9,ti,2,2,"div",15)(10,oi,4,4,"span",16)(11,ci,4,4,"span",17),v()),t&2&&(W(i.styleClass),a("ngStyle",i.style)("ngClass",Re(14,ct,i.rowHover||i.selectionMode==="single"||i.selectionMode==="multiple",i.autoLayout,i.resizableColumns,i.resizableColumns&&i.columnResizeMode==="fit",i.scrollable&&i.scrollHeight==="flex")),c(2),a("ngIf",i.loading&&i.showLoader),c(),a("ngIf",i.captionTemplate),c(),a("ngIf",i.paginator&&(i.paginatorPosition==="top"||i.paginatorPosition=="both")),c(),a("ngIf",!i.scrollable),c(),a("ngIf",i.scrollable),c(),a("ngIf",i.paginator&&(i.paginatorPosition==="bottom"||i.paginatorPosition=="both")),c(),a("ngIf",i.summaryTemplate),c(),a("ngIf",i.resizableColumns),c(),a("ngIf",i.reorderableColumns),c(),a("ngIf",i.reorderableColumns))},dependencies:()=>[ue,G,q,ne,qe,$,ge,_e,ye,tl,et],styles:[`@layer primeng{.p-treetable{position:relative}.p-treetable table{border-collapse:collapse;width:100%;table-layout:fixed}.p-treetable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-treetable .p-sortable-column .p-column-title,.p-treetable .p-sortable-column .p-sortable-column-icon,.p-treetable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-treetable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-treetable-auto-layout>.p-treetable-wrapper{overflow-x:auto}.p-treetable-auto-layout>.p-treetable-wrapper>table{table-layout:auto}.p-treetable-hoverable-rows .p-treetable-tbody>tr{cursor:pointer}.p-treetable-toggler{cursor:pointer;-webkit-user-select:none;user-select:none;display:inline-flex;align-items:center;justify-content:center;vertical-align:middle;overflow:hidden;position:relative}p-treetabletoggler+p-treetablecheckbox .p-checkbox{vertical-align:middle}p-treetabletoggler+p-treetablecheckbox+span{vertical-align:middle}.p-treetable-scrollable-wrapper{position:relative}.p-treetable-scrollable-header,.p-treetable-scrollable-footer{overflow:hidden;flex-shrink:0}.p-treetable-scrollable-body{overflow:auto;position:relative}.p-treetable-scrollable-body>table>.p-treetable-tbody>tr:first-child>td{border-top:0 none}.p-treetable-virtual-table{position:absolute}.p-treetable-frozen-view .p-treetable-scrollable-body{overflow:hidden}.p-treetable-frozen-view>.p-treetable-scrollable-body>table>.p-treetable-tbody>tr>td:last-child{border-right:0 none}.p-treetable-unfrozen-view{position:absolute;top:0}.p-treetable-flex-scrollable,.p-treetable-flex-scrollable .p-treetable-scrollable-wrapper,.p-treetable-flex-scrollable .p-treetable-scrollable-view{display:flex;flex-direction:column;flex:1;height:100%}.p-treetable-flex-scrollable .p-treetable-virtual-scrollable-body{flex:1}.p-treetable-resizable>.p-treetable-wrapper{overflow-x:auto}.p-treetable-resizable .p-treetable-thead>tr>th,.p-treetable-resizable .p-treetable-tfoot>tr>td,.p-treetable-resizable .p-treetable-tbody>tr>td{overflow:hidden}.p-treetable-resizable .p-resizable-column{background-clip:padding-box;position:relative}.p-treetable-resizable-fit .p-resizable-column:last-child .p-column-resizer{display:none}.p-treetable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-treetable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-treetable .p-row-editor-init,.p-treetable .p-row-editor-save,.p-treetable .p-row-editor-cancel,.p-treetable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-treetable-reorder-indicator-up,.p-treetable-reorder-indicator-down{position:absolute;display:none}[ttReorderableColumn]{cursor:move}.p-treetable .p-treetable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}.p-treetable .p-scroller-loading{transform:none!important;min-height:0;position:sticky;top:0;left:0}}
`],encapsulation:2})}return l})(),et=(()=>{class l{tt;treeTableService;cd;columns;template;frozen;serializedNodes;scrollerOptions;subscription;constructor(e,t,i){this.tt=e,this.treeTableService=t,this.cd=i,this.subscription=this.tt.tableService.uiUpdateSource$.subscribe(()=>{this.tt.virtualScroll&&this.cd.detectChanges()})}getScrollerOption(e,t){return this.tt.virtualScroll?(t=t||this.scrollerOptions,t?t[e]:null):null}getRowIndex(e){let t=this.getScrollerOption("getItemOptions");return t?t(e).index:e}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(t){return new(t||l)(m(J),m(re),m(he))};static \u0275cmp=j({type:l,selectors:[["","pTreeTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:[u.None,"pTreeTableBody","columns"],template:[u.None,"pTreeTableBodyTemplate","template"],frozen:[u.HasDecoratorInputTransform,"frozen","frozen",_],serializedNodes:"serializedNodes",scrollerOptions:"scrollerOptions"},features:[Q],attrs:di,decls:2,vars:3,consts:[["ngFor","",3,"ngForOf","ngForTrackBy"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){t&1&&p(0,gi,1,1,"ng-template",0)(1,bi,2,5,"ng-container",1),t&2&&(a("ngForOf",i.serializedNodes||i.tt.serializedValue)("ngForTrackBy",i.tt.rowTrackBy),c(),a("ngIf",i.tt.isEmpty()))},dependencies:[He,G,q],encapsulation:2})}return l})(),tl=(()=>{class l{platformId;renderer;tt;el;zone;columns;frozen;scrollHeaderViewChild;scrollHeaderBoxViewChild;scrollBodyViewChild;scrollTableViewChild;scrollLoadingTableViewChild;scrollFooterViewChild;scrollFooterBoxViewChild;scrollableAlignerViewChild;scroller;headerScrollListener;bodyScrollListener;footerScrollListener;frozenSiblingBody;totalRecordsSubscription;_scrollHeight;preventBodyScrollPropagation;getMergedTableStyles(e){return V(V({},this.tt.tableStyle),e)}get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e,e!=null&&(e.includes("%")||e.includes("calc"))&&console.log('Percentage scroll height calculation is removed in favor of the more performant CSS based flex mode, use scrollHeight="flex" instead.')}constructor(e,t,i,n,r){this.platformId=e,this.renderer=t,this.tt=i,this.el=n,this.zone=r}ngAfterViewInit(){if(oe(this.platformId)){if(this.frozen)this.scrollableAlignerViewChild&&this.scrollableAlignerViewChild.nativeElement&&(this.scrollableAlignerViewChild.nativeElement.style.height=h.calculateScrollbarHeight()+"px");else{(this.tt.frozenColumns||this.tt.frozenBodyTemplate)&&h.addClass(this.el.nativeElement,"p-treetable-unfrozen-view");let e=this.el.nativeElement.previousElementSibling;e&&(this.tt.virtualScroll?this.frozenSiblingBody=h.findSingle(e,".p-scroller-viewport"):this.frozenSiblingBody=h.findSingle(e,".p-treetable-scrollable-body"));let t=h.calculateScrollbarWidth();this.scrollHeaderBoxViewChild.nativeElement.style.paddingRight=t+"px",this.scrollFooterBoxViewChild&&this.scrollFooterBoxViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.paddingRight=t+"px")}this.bindEvents()}}bindEvents(){oe(this.platformId)&&this.zone.runOutsideAngular(()=>{this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.headerScrollListener=this.renderer.listen(this.scrollHeaderBoxViewChild?.nativeElement,"scroll",this.onHeaderScroll.bind(this))),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.footerScrollListener=this.renderer.listen(this.scrollFooterViewChild.nativeElement,"scroll",this.onFooterScroll.bind(this))),this.frozen||(this.tt.virtualScroll?this.bodyScrollListener=this.renderer.listen((this.scroller?.getElementRef()).nativeElement,"scroll",this.onBodyScroll.bind(this)):this.bodyScrollListener=this.renderer.listen(this.scrollBodyViewChild?.nativeElement,"scroll",this.onBodyScroll.bind(this)))})}unbindEvents(){oe(this.platformId)&&(this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&this.headerScrollListener&&(this.headerScrollListener(),this.headerScrollListener=null),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&this.footerScrollListener&&(this.footerScrollListener(),this.footerScrollListener=null),this.scrollBodyViewChild&&this.scrollBodyViewChild.nativeElement&&this.bodyScrollListener&&(this.bodyScrollListener(),this.bodyScrollListener=null),this.scroller&&this.scroller.getElementRef()&&this.bodyScrollListener&&(this.bodyScrollListener(),this.bodyScrollListener=null))}onHeaderScroll(){let e=this.scrollHeaderViewChild?.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=e,this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterViewChild.nativeElement.scrollLeft=e),this.preventBodyScrollPropagation=!0}onFooterScroll(){let e=this.scrollFooterViewChild?.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=e,this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderViewChild.nativeElement.scrollLeft=e),this.preventBodyScrollPropagation=!0}onBodyScroll(e){if(this.preventBodyScrollPropagation){this.preventBodyScrollPropagation=!1;return}this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderBoxViewChild.nativeElement.style.marginLeft=-1*e.target.scrollLeft+"px"),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.marginLeft=-1*e.target.scrollLeft+"px"),this.frozenSiblingBody&&(this.frozenSiblingBody.scrollTop=e.target.scrollTop)}scrollToVirtualIndex(e){this.scroller&&this.scroller.scrollToIndex(e)}scrollTo(e){this.scroller?this.scroller.scrollTo(e):this.scrollBodyViewChild?.nativeElement.scrollTo?this.scrollBodyViewChild.nativeElement.scrollTo(e):(this.scrollBodyViewChild.nativeElement.scrollLeft=e.left,this.scrollBodyViewChild.nativeElement.scrollTop=e.top)}ngOnDestroy(){this.unbindEvents(),this.frozenSiblingBody=null}static \u0275fac=function(t){return new(t||l)(m(ze),m(de),m(J),m(te),m(ie))};static \u0275cmp=j({type:l,selectors:[["","ttScrollableView",""]],viewQuery:function(t,i){if(t&1&&(E(Ti,5),E(_i,5),E(yi,5),E(Ci,5),E(wi,5),E(vi,5),E(Si,5),E(Ii,5),E(xi,5)),t&2){let n;I(n=x())&&(i.scrollHeaderViewChild=n.first),I(n=x())&&(i.scrollHeaderBoxViewChild=n.first),I(n=x())&&(i.scrollBodyViewChild=n.first),I(n=x())&&(i.scrollTableViewChild=n.first),I(n=x())&&(i.scrollLoadingTableViewChild=n.first),I(n=x())&&(i.scrollFooterViewChild=n.first),I(n=x())&&(i.scrollFooterBoxViewChild=n.first),I(n=x())&&(i.scrollableAlignerViewChild=n.first),I(n=x())&&(i.scroller=n.first)}},hostAttrs:[1,"p-element"],inputs:{columns:[u.None,"ttScrollableView","columns"],frozen:[u.HasDecoratorInputTransform,"frozen","frozen",_],scrollHeight:"scrollHeight"},features:[Q],attrs:Ei,decls:13,vars:13,consts:[["scrollHeader",""],["scrollHeaderBox",""],["buildInItems",""],["scroller",""],["scrollBody",""],["scrollTable",""],["scrollableAligner",""],["scrollFooter",""],["scrollFooterBox",""],[1,"p-treetable-scrollable-header"],[1,"p-treetable-scrollable-header-box"],[1,"p-treetable-scrollable-header-table",3,"ngClass","ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["role","rowgroup",1,"p-treetable-thead"],["styleClass","p-treetable-scrollable-body",3,"items","style","scrollHeight","itemSize","lazy","options","onLazyLoad",4,"ngIf"],[4,"ngIf"],["class","p-treetable-scrollable-footer",4,"ngIf"],["styleClass","p-treetable-scrollable-body",3,"onLazyLoad","items","scrollHeight","itemSize","lazy","options"],["pTemplate","content"],["pTemplate","loader"],[1,"p-treetable-scrollable-body",3,"ngStyle"],["role","table",3,"ngClass","ngStyle"],["role","rowgroup",1,"p-treetable-tbody",3,"pTreeTableBody","pTreeTableBodyTemplate","serializedNodes","frozen"],[3,"ngStyle",4,"ngIf"],[3,"ngStyle"],[1,"p-treetable-scrollable-footer"],[1,"p-treetable-scrollable-footer-box"],[1,"p-treetable-scrollable-footer-table",3,"ngClass","ngStyle"],["role","rowgroup",1,"p-treetable-tfoot"]],template:function(t,i){t&1&&(y(0,"div",9,0)(2,"div",10,1)(4,"table",11),p(5,Mi,1,0,"ng-container",12),y(6,"thead",13),p(7,Ni,1,0,"ng-container",12),v()()()(),p(8,Ki,4,10,"p-scroller",14)(9,Ai,4,10,"ng-container",15)(10,Qi,5,13,"ng-template",null,2,Oe)(12,qi,8,10,"div",16)),t&2&&(c(4),a("ngClass",i.tt.tableStyleClass)("ngStyle",i.tt.tableStyle),c(),a("ngTemplateOutlet",i.frozen&&i.tt.frozenColGroupTemplate||i.tt.colGroupTemplate)("ngTemplateOutletContext",z(9,M,i.columns)),c(2),a("ngTemplateOutlet",i.frozen&&i.tt.frozenHeaderTemplate||i.tt.headerTemplate)("ngTemplateOutletContext",z(11,M,i.columns)),c(),a("ngIf",i.tt.virtualScroll),c(),a("ngIf",!i.tt.virtualScroll),c(3),a("ngIf",i.tt.footerTemplate))},dependencies:[ue,G,q,ne,$,Qe,et],encapsulation:2})}return l})();var Kl=(()=>{class l{tt;tableService;rowNode;ttSelectableRowDisabled;selected;subscription;constructor(e,t){this.tt=e,this.tableService=t,this.isEnabled()&&(this.subscription=this.tt.tableService.selectionSource$.subscribe(()=>{this.selected=this.tt.isSelected(this.rowNode.node)}))}ngOnInit(){this.isEnabled()&&(this.selected=this.tt.isSelected(this.rowNode.node))}onClick(e){this.isEnabled()&&this.tt.handleRowClick({originalEvent:e,rowNode:this.rowNode})}onKeyDown(e){switch(e.code){case"Enter":case"Space":this.onEnterKey(e);break;default:break}}onTouchEnd(e){this.isEnabled()&&this.tt.handleRowTouchEnd(e)}onEnterKey(e){this.tt.selectionMode==="checkbox"?this.tt.toggleNodeWithCheckbox({originalEvent:e,rowNode:this.rowNode}):this.onClick(e),e.preventDefault()}isEnabled(){return this.ttSelectableRowDisabled!==!0}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}static \u0275fac=function(t){return new(t||l)(m(J),m(re))};static \u0275dir=ce({type:l,selectors:[["","ttSelectableRow",""]],hostAttrs:[1,"p-element"],hostVars:4,hostBindings:function(t,i){t&1&&H("click",function(r){return i.onClick(r)})("keydown",function(r){return i.onKeyDown(r)})("touchend",function(r){return i.onTouchEnd(r)}),t&2&&(A("data-p-highlight",i.selected)("aria-checked",i.selected),Fe("p-highlight",i.selected))},inputs:{rowNode:[u.None,"ttSelectableRow","rowNode"],ttSelectableRowDisabled:[u.HasDecoratorInputTransform,"ttSelectableRowDisabled","ttSelectableRowDisabled",_]},features:[Q]})}return l})();var Bl=(()=>{class l{tt;el;zone;get level(){return this.rowNode?.level+1}get styleClass(){return this.rowNode?.node.styleClass||""}get expanded(){return this.rowNode?.node.expanded}rowNode;constructor(e,t,i){this.tt=e,this.el=t,this.zone=i}onKeyDown(e){switch(e.code){case"ArrowDown":this.onArrowDownKey(e);break;case"ArrowUp":this.onArrowUpKey(e);break;case"ArrowRight":this.onArrowRightKey(e);break;case"ArrowLeft":this.onArrowLeftKey(e);break;case"Tab":this.onTabKey(e);break;case"Home":this.onHomeKey(e);break;case"End":this.onEndKey(e);break;default:break}}onArrowDownKey(e){let t=this.el?.nativeElement?.nextElementSibling;t&&this.focusRowChange(e.currentTarget,t),e.preventDefault()}onArrowUpKey(e){let t=this.el?.nativeElement?.previousElementSibling;t&&this.focusRowChange(e.currentTarget,t),e.preventDefault()}onArrowRightKey(e){let t=e.currentTarget;!(h.findSingle(t,"button").style.visibility==="hidden")&&!this.expanded&&this.rowNode.node.children&&(this.expand(e),t.tabIndex=-1),e.preventDefault()}onArrowLeftKey(e){let t=this.tt.containerViewChild?.nativeElement,i=h.find(t,'[aria-expanded="true"]'),n=i[i.length-1];this.expanded&&this.collapse(e),n&&(this.tt.toggleRowIndex=h.index(n)),this.restoreFocus(),e.preventDefault()}onHomeKey(e){let t=h.findSingle(this.tt.containerViewChild?.nativeElement,`tr[aria-level="${this.level}"]`);t&&h.focus(t),e.preventDefault()}onEndKey(e){let t=h.find(this.tt.containerViewChild?.nativeElement,`tr[aria-level="${this.level}"]`),i=t[t.length-1];h.focus(i),e.preventDefault()}onTabKey(e){let t=this.el.nativeElement?[...h.find(this.el.nativeElement.parentNode,"tr")]:void 0;if(t&&C.isNotEmpty(t)){let i=t.some(n=>h.getAttribute(n,"data-p-highlight")||n.getAttribute("aria-checked")==="true");if(t.forEach(n=>{n.tabIndex=-1}),i){let n=t.filter(r=>h.getAttribute(r,"data-p-highlight")||r.getAttribute("aria-checked")==="true");n[0].tabIndex=0;return}t[0].tabIndex=0}}expand(e){this.tt.toggleRowIndex=h.index(this.el.nativeElement),this.rowNode.node.expanded=!0,this.tt.updateSerializedValue(),this.tt.tableService.onUIUpdate(this.tt.value),this.rowNode.node.children?this.restoreFocus(this.tt.toggleRowIndex+1):this.restoreFocus(),this.tt.onNodeExpand.emit({originalEvent:e,node:this.rowNode.node})}collapse(e){this.rowNode.node.expanded=!1,this.tt.updateSerializedValue(),this.tt.tableService.onUIUpdate(this.tt.value),this.tt.onNodeCollapse.emit({originalEvent:e,node:this.rowNode.node})}focusRowChange(e,t,i){e.tabIndex="-1",t.tabIndex="0",h.focus(t)}restoreFocus(e){this.zone.runOutsideAngular(()=>{setTimeout(()=>{let t=this.tt.containerViewChild?.nativeElement,i=h.findSingle(t,".p-treetable-tbody").children[e||this.tt.toggleRowIndex],n=[...h.find(t,"tr")];n&&n.forEach(r=>{i.isSameNode(r)||(r.tabIndex=-1)}),i&&(i.tabIndex=0,i.focus())},25)})}static \u0275fac=function(t){return new(t||l)(m(J),m(te),m(ie))};static \u0275dir=ce({type:l,selectors:[["","ttRow",""]],hostAttrs:[1,"p-element"],hostVars:7,hostBindings:function(t,i){t&1&&H("keydown",function(r){return i.onKeyDown(r)}),t&2&&(A("tabindex","0")("aria-expanded",i.expanded)("aria-level",i.level)("data-pc-section",i.row)("role",i.row),W("p-element "+i.styleClass))},inputs:{rowNode:[u.None,"ttRow","rowNode"]}})}return l})(),Al=(()=>{class l{tt;config;rowNode;constructor(e,t){this.tt=e,this.config=t}get toggleButtonAriaLabel(){return this.config.translation?this.rowNode.expanded?this.config.translation.aria.collapseRow:this.config.translation.aria.expandRow:void 0}onClick(e){this.rowNode.node.expanded=!this.rowNode.node.expanded,this.rowNode.node.expanded?this.tt.onNodeExpand.emit({originalEvent:e,node:this.rowNode.node}):this.tt.onNodeCollapse.emit({originalEvent:e,node:this.rowNode.node}),this.tt.updateSerializedValue(),this.tt.tableService.onUIUpdate(this.tt.value),e.preventDefault()}static \u0275fac=function(t){return new(t||l)(m(J),m(fe))};static \u0275cmp=j({type:l,selectors:[["p-treeTableToggler"]],hostAttrs:[1,"p-element"],inputs:{rowNode:"rowNode"},decls:3,vars:12,consts:[["type","button","tabindex","-1","pRipple","",1,"p-treetable-toggler","p-link",3,"click","ngStyle"],[4,"ngIf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,i){t&1&&(y(0,"button",0),H("click",function(r){return i.onClick(r)}),p(1,Zi,3,2,"ng-container",1)(2,el,1,0,null,2),v()),t&2&&(a("ngStyle",K(7,$i,i.rowNode.node.leaf===!1||i.rowNode.node.children&&i.rowNode.node.children.length?"visible":"hidden",i.rowNode.level*16+"px")),A("data-pc-section","rowtoggler")("data-pc-group-section","rowactionbutton")("aria-label",i.toggleButtonAriaLabel),c(),a("ngIf",!i.tt.togglerIconTemplate),c(),a("ngTemplateOutlet",i.tt.togglerIconTemplate)("ngTemplateOutletContext",z(10,M,i.rowNode.node.expanded)))},dependencies:()=>[G,q,ne,Ue,me,be],encapsulation:2})}return l})(),Ul=(()=>{class l{static \u0275fac=function(t){return new(t||l)};static \u0275mod=ke({type:l});static \u0275inj=Ee({imports:[Ke,$e,je,Te,ge,_e,ye,Je,Ze,Xe,We,Ge,me,be,Ae,Te]})}return l})();export{J as a,Kl as b,Bl as c,Al as d,Ul as e};
