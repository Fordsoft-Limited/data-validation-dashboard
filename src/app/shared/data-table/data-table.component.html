<p-table [value]="data" [rows]="10" [loading]="loading" [paginator]="true" [globalFilterFields]="globalFilterFields">
  <ng-template pTemplate="caption">
    <ng-content></ng-content> <!-- For any custom content (like search) -->
  </ng-template>

  <ng-template pTemplate="header">
    <tr>
      <th *ngFor="let header of headers" [style.minWidth]="header.minWidth">
        <div class="flex justify-content-between align-items-center">
          {{ header.label }}
        </div>
      </th>
    </tr>
  </ng-template>

  <ng-template pTemplate="body" let-rowData>
    <tr>
      <td *ngFor="let header of headers">
          <span *ngIf="!header.isAction">
              <!-- Check if the field is 'date' and apply date formatting -->
              <ng-container *ngIf="header.field === 'date'; else defaultField">
                {{ rowData[header.field] | date:'MM/dd/yyyy' }} <!-- Customize format as needed -->
              </ng-container>
              <ng-template #defaultField>
                {{ rowData[header.field] }}
              </ng-template>
            </span>
        <ng-container *ngIf="header.isAction">
          <div class="action-buttons">
            <p-button icon="pi pi-pencil" class="mr-2" (click)="edit(rowData)"></p-button>
            <p-button icon="pi pi-trash" class="mr-2" (click)="delete(rowData)"></p-button>
          </div>
        </ng-container>
      </td>
    </tr>
  </ng-template>

  <ng-template pTemplate="emptymessage">
    <tr>
      <td colspan="5">No data found.</td>
    </tr>
  </ng-template>

  <ng-template pTemplate="loadingbody">
    <tr>
      <td colspan="5">Loading data. Please wait...</td>
    </tr>
  </ng-template>
</p-table>
