import{a as X}from"./chunk-MSZIQ2FG.js";import{a as Q}from"./chunk-PSUU27KI.js";import{b as $}from"./chunk-FJZWMPVK.js";import{b as H}from"./chunk-EYNK32OA.js";import{a as Y}from"./chunk-Y2TWHHJT.js";import{a as J,b as K}from"./chunk-6YX36K4P.js";import"./chunk-D6OM4TL4.js";import"./chunk-VZKXXVR6.js";import"./chunk-NG4D23UF.js";import{a as y}from"./chunk-HDDFEM7G.js";import"./chunk-KMIFLFRM.js";import{h as Z}from"./chunk-JSMWOMP6.js";import{$ as u,Aa as x,Ab as S,Db as P,Fa as C,Fb as E,Gb as p,Ib as I,Jb as U,Kb as F,Lc as z,Mb as f,Mc as W,Ob as A,Q as a,Qb as T,R as g,Rb as N,Sb as R,Ub as O,Vb as q,_b as k,ba as s,cc as B,db as b,ha as n,ia as i,ib as v,ic as D,ja as d,oa as M,pa as c,rc as V,s as h,sc as L,tc as j,vc as G,x as _,y as w,ya as o}from"./chunk-AWEHUNTX.js";import"./chunk-DM275RSA.js";function re(e,m){if(e&1&&(n(0,"div",38)(1,"p"),d(2,"i",39),o(3),i()()),e&2){let t=c();a(3),x(" ",t.successMessage,"")}}function ne(e,m){if(e&1&&(n(0,"div",40)(1,"p"),d(2,"i",41),o(3),i()()),e&2){let t=c();a(3),x(" ",t.errorMessage,"")}}function ie(e,m){e&1&&(n(0,"span",44),o(1,"*Name is Required."),i())}function oe(e,m){e&1&&(n(0,"span",44),o(1,"*Enter only characters."),i())}function ae(e,m){if(e&1&&(n(0,"div",42),u(1,ie,2,0,"span",43)(2,oe,2,0,"span",43),i()),e&2){let t=c();a(),s("ngIf",t.name==null||t.name.errors==null?null:t.name.errors.required),a(),s("ngIf",t.name==null||t.name.errors==null?null:t.name.errors.pattern)}}function se(e,m){e&1&&(n(0,"span",44),o(1,"*Username is Required."),i())}function le(e,m){if(e&1&&(n(0,"div",42),u(1,se,2,0,"span",43),i()),e&2){let t=c();a(),s("ngIf",t.username==null||t.username.errors==null?null:t.username.errors.required)}}function me(e,m){e&1&&(n(0,"span",44),o(1,"*Password is required."),i())}function de(e,m){e&1&&(n(0,"span",44),o(1,"*Password must be at least 4 characters long."),i())}function ue(e,m){if(e&1&&(n(0,"div",42),u(1,me,2,0,"span",43)(2,de,2,0,"span",43),i()),e&2){let t=c();a(),s("ngIf",t.password==null||t.password.errors==null?null:t.password.errors.required),a(),s("ngIf",t.password==null||t.password.errors==null?null:t.password.errors.minlength)}}function pe(e,m){e&1&&(n(0,"span",44),o(1,"*Confirm Password is required."),i())}function ce(e,m){e&1&&(n(0,"span",44),o(1,"*Passwords do not match."),i())}function fe(e,m){if(e&1&&(n(0,"div",42),u(1,pe,2,0,"span",43)(2,ce,2,0,"span",43),i()),e&2){let t=c();a(),s("ngIf",t.confirmPassword==null||t.confirmPassword.errors==null?null:t.confirmPassword.errors.required),a(),s("ngIf",t.userForm==null||t.userForm.errors==null?null:t.userForm.errors.passwordMismatch)}}var ee=(()=>{class e{constructor(t,l,r){this.userService=t,this.authService=l,this.router=r,this.isLoading=!1,this.user=new X,this.userDialog=!1,this.submitted=!1,this.selectedRole=[],this.visible=!1,this.userAddedSuccess=!1,this.userAddedError=!1,this.successMessage="",this.errorMessage="",this.role=[{name:"Admin",code:"ADMIN"},{name:"User",code:"USER"},{name:"Approval",code:"APPROVAl"},{name:"Reviewer",code:"REVIEWER"}]}passwordMatchValidator(t){let l=t.get("password")?.value,r=t.get("confirmPassword")?.value;return l===r?null:{passwordMismatch:!0}}ngOnInit(){this.userForm=new F({name:new f("",[p.required,p.pattern("^[a-zA-Z ]+$")]),username:new f("",[p.required]),password:new f("",[p.required,p.minLength(4)]),confirmPassword:new f("",p.required),role:new f("",p.required)})}onSubmit(){if(this.submitted=!0,this.isLoading=!0,this.userAddedSuccess=!1,this.userAddedError=!1,this.userForm.valid){let t={username:this.userForm.value.username,name:this.userForm.value.name,role:this.userForm.value.role,password:this.userForm.value.password};this.userService.createUser(t).subscribe({next:l=>{this.userAddedSuccess=!0,this.successMessage="Success! Your account has been successfully created!",this.userForm.reset(),this.isLoading=!1,this.router.navigate(["/user-management"]),setTimeout(()=>{this.userAddedSuccess=!1},3e3)},error:l=>{this.isLoading=!1,this.userAddedError=!0,this.errorMessage=l.status===401?"You are not authenticated to create a user.":"There was an error creating the user.",setTimeout(()=>{this.userAddedError=!1},3e3)}})}else this.isLoading=!1,console.log("Form is not valid",this.userForm.errors)}get name(){return this.userForm.get("name")}get username(){return this.userForm.get("username")}get password(){return this.userForm.get("password")}get confirmPassword(){return this.userForm.get("confirmPassword")}static{this.\u0275fac=function(l){return new(l||e)(g(Q),g(y),g(S))}}static{this.\u0275cmp=_({type:e,selectors:[["app-manage-user"]],features:[C([B,k])],decls:55,vars:9,consts:[[1,"card"],[1,"text-900","text-xl","font-bold","mb-4","block"],["class","text-center","style","border: 1px solid #218838; background-color: #28a745; color: white; padding: 10px; border-radius: 5px; margin-bottom: 10px;",4,"ngIf"],["class","text-center","style","border: 1px solid #c82333; background-color: #dc3545; color: white; padding: 10px; border-radius: 5px; margin-bottom: 10px;",4,"ngIf"],[3,"ngSubmit","formGroup"],[1,"grid"],[1,"col-12","lg:col-2"],[1,"text-900","font-medium","text-xl","mb-3"],[1,"m-0","p-0","text-600","line-height-3","mr-3"],[1,"col-12","lg:col-10"],[1,"grid","formgrid","p-fluid"],[1,"field","mb-4","col-10"],["for","name",1,"font-medium","text-900"],["id","name","type","text","pInputText","","formControlName","name","required","",1,"form-control",2,"height","50px"],["class","mt-2",4,"ngIf"],["for","username",1,"font-medium","text-900"],["id","username","type","username","pInputText","","formControlName","username","required","",1,"form-control",2,"height","50px"],[1,"field","mb-4","col-12","md:col-12"],[1,"flex"],[1,"flex","flex-wrap","gap-3"],[1,"flex","align-items-center","admin-role"],["name","role","value","ADMIN","formControlName","role","inputId","role1"],["for","role1",1,"ml-2"],[1,"flex","align-items-center","user-role",2,"margin-left","25px"],["name","role","value","USER","formControlName","role","inputId","role2"],["for","role2",1,"ml-2"],[1,"flex","align-items-center","approval-role",2,"margin-left","25px"],["name","role","value","APPROVAL","formControlName","role","inputId","role3"],["for","role3",1,"ml-2"],["name","role","value","REVIEWER","formControlName","role","inputId","role4"],["for","role4",1,"ml-2"],[1,"field","mb-4","col-12","md:col-10"],["for","password",1,"font-medium","text-900"],["id","password","type","password","pInputText","","formControlName","password","required","",1,"form-control",2,"height","50px"],["for","confirmPassword",1,"font-medium","text-900"],["id","confirmPassword","type","password","pInputText","","formControlName","confirmPassword","required","",1,"form-control",2,"height","50px"],[1,"col-12"],["pButton","","pRipple","","label","Add New User","type","submit",1,"w-auto","mt-3",3,"label","disabled"],[1,"text-center",2,"border","1px solid #218838","background-color","#28a745","color","white","padding","10px","border-radius","5px","margin-bottom","10px"],[1,"pi","pi-check-circle",2,"margin-right","5px"],[1,"text-center",2,"border","1px solid #c82333","background-color","#dc3545","color","white","padding","10px","border-radius","5px","margin-bottom","10px"],[1,"pi","pi-exclamation-triangle",2,"margin-right","5px"],[1,"mt-2"],["class","errors",4,"ngIf"],[1,"errors"]],template:function(l,r){l&1&&(n(0,"div",0)(1,"span",1),o(2,"Manage User"),i(),u(3,re,4,1,"div",2)(4,ne,4,1,"div",3),n(5,"form",4),M("ngSubmit",function(){return r.onSubmit()}),n(6,"div",5)(7,"div",6)(8,"div",7),o(9,"Profile"),i(),n(10,"p",8),o(11,"Welcome to the user creation process! Please fill out the required fields to set up your account."),i()(),n(12,"div",9)(13,"div",10)(14,"div",11)(15,"label",12),o(16,"Name"),i(),d(17,"input",13),u(18,ae,3,2,"div",14),i(),n(19,"div",11)(20,"label",15),o(21,"User Name"),i(),d(22,"input",16),u(23,le,2,1,"div",14),i(),n(24,"div",17)(25,"div",18)(26,"div",19)(27,"div",20),d(28,"p-radioButton",21),n(29,"label",22),o(30,"Admin"),i()(),n(31,"div",23),d(32,"p-radioButton",24),n(33,"label",25),o(34,"User"),i()(),n(35,"div",26),d(36,"p-radioButton",27),n(37,"label",28),o(38,"Approval"),i()(),n(39,"div",26),d(40,"p-radioButton",29),n(41,"label",30),o(42,"Reviewer"),i()()()()(),n(43,"div",31)(44,"label",32),o(45,"Password"),i(),d(46,"input",33),u(47,ue,3,2,"div",14),i(),n(48,"div",31)(49,"label",34),o(50,"Confirm Password"),i(),d(51,"input",35),u(52,fe,3,2,"div",14),i(),n(53,"div",36),d(54,"button",37),i()()()()()()),l&2&&(a(3),s("ngIf",r.userAddedSuccess),a(),s("ngIf",r.userAddedError),a(),s("formGroup",r.userForm),a(13),s("ngIf",(r.name==null?null:r.name.invalid)&&((r.name==null?null:r.name.touched)||(r.name==null?null:r.name.dirty))),a(5),s("ngIf",(r.username==null?null:r.username.invalid)&&((r.username==null?null:r.username.touched)||(r.username==null?null:r.username.dirty))),a(24),s("ngIf",(r.password==null?null:r.password.invalid)&&((r.password==null?null:r.password.touched)||(r.password==null?null:r.password.dirty))),a(5),s("ngIf",(r.confirmPassword==null?null:r.confirmPassword.invalid)&&((r.confirmPassword==null?null:r.confirmPassword.touched)||(r.confirmPassword==null?null:r.confirmPassword.dirty))),a(2),s("label",r.isLoading?"Add New User...":"Add New User")("disabled",r.userForm.invalid))},dependencies:[b,A,E,I,U,R,j,V,z,T,N,J],styles:[".flex-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap}.flex-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]{flex-grow:1}@media (max-width: 600px){.flex-container[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start}.flex-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:77%;margin-bottom:10px}.flex-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%], .flex-container[_ngcontent-%COMP%]   .search-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%}}.errors[_ngcontent-%COMP%]{color:red;font-size:14px}.notification[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;padding:15px;text-align:center;font-size:18px;z-index:1000;display:none}.success[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff}.error[_ngcontent-%COMP%]{background-color:#f44336}@keyframes _ngcontent-%COMP%_slide-down{0%{top:-50px;opacity:0}to{top:0;opacity:1}}.notification.active[_ngcontent-%COMP%]{display:block;animation:_ngcontent-%COMP%_slide-down .5s ease-in-out}"]})}}return e})();var ge=[{path:"",component:ee}],Ge=(()=>{class e{static{this.\u0275fac=function(l){return new(l||e)}}static{this.\u0275mod=w({type:e})}static{this.\u0275inj=h({imports:[v,D,v,O,G,L,W,Z,$,H,q,K,Y,P.forChild(ge)]})}}return e})();export{Ge as ManageUserModule,ge as ManageUserRoutes};
